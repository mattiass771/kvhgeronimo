(this.webpackJsonpgeroproject=this.webpackJsonpgeroproject||[]).push([[0],{118:function(e,t,a){},119:function(e,t,a){"use strict";a.r(t);var n=a(1),l=a.n(n),r=a(27),o=a.n(r),s=a(7),i=a(8),c=a(10),p=a(9),m=a(47),u=a(32),d=(a(92),a(12)),h=a(6),g=a.n(h),f=a(130),v=function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).handleClick=function(t){localStorage.setItem("galleryID",t.target.dataset.galleryid),e.props.history.push("opengallery")},e.getCarousel=function(){var t,a=[],n=Object(d.a)(e.state.galleries);try{for(n.s();!(t=n.n()).done;){var r=t.value;a.push(l.a.createElement(f.a.Item,{key:r._id,className:"carousel"},l.a.createElement("img",{className:"d-block w-100",alt:r._id,src:r.showLink}),l.a.createElement(f.a.Caption,{onClick:e.handleClick},l.a.createElement("h1",{className:"pointer-fade-on-hover","data-galleryid":r._id},r.name))))}}catch(o){n.e(o)}finally{n.f()}return a},e.state={galleries:[]},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;g.a.get("https://kvhgeronimo.herokuapp.com/gallery").then((function(t){e.setState({galleries:t.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return l.a.createElement(f.a,{style:{marginTop:"-24px"},interval:5e3,indicators:!1},this.getCarousel())}}]),a}(n.Component),E=Object(u.e)(v),y=a(121),k=a(79),b=a(122),x=function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).state={links:[],text:{}},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;g.a.get("https://kvhgeronimo.herokuapp.com/aboutUs/geronimo").then((function(t){e.setState({links:t.data.links,text:t.data.text})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return l.a.createElement(y.a,{style:{marginTop:"15px"}},l.a.createElement(k.a,null,l.a.createElement("h3",{style:{textAlign:"center"}},this.state.text.title),l.a.createElement(b.a,{className:"about-image",src:this.state.links[0],thumbnail:!0,fluid:!0}),l.a.createElement("p",null,this.state.text.para1),l.a.createElement("p",null,this.state.text.para2)))}}]),a}(n.Component),C=a(41),S=a(132),O=function(){var e=Object(n.useState)({}),t=Object(C.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)({}),s=Object(C.a)(o,2),i=s[0],c=s[1],p=Object(n.useState)(!1),m=Object(C.a)(p,2),u=m[0],d=m[1];!u&&g.a.get("https://kvhgeronimo.herokuapp.com/calendar").then((function(e){e.data[e.data.length-1]&&c(e.data[e.data.length-1])})).catch((function(e){console.log(e)})),!u&&g.a.get("https://kvhgeronimo.herokuapp.com/reports").then((function(e){d(!0),e.data[e.data.length-1]&&r(e.data[e.data.length-1])})).catch((function(e){console.log(e)}));return l.a.createElement(n.Fragment,null,l.a.createElement(y.a,null,l.a.createElement(k.a,{lg:6},l.a.createElement("h3",{style:{textAlign:"center"}},"LATEST REPORT"),l.a.createElement(S.a,{className:"block-background",style:{marginBottom:"15px",borderRadius:"5px"}},l.a.createElement(S.a.Header,null,l.a.createElement(f.a,{interval:null},u&&void 0!==a.links&&function(e){var t=[],a=function(e){var t=e.split("watch?v=");return"https://www.youtube.com/embed/".concat(t[1])};return e.links.map((function(e,n){e.includes("youtube")?t.push(l.a.createElement(f.a.Item,{key:e},l.a.createElement("iframe",{width:"100%",height:"300px",src:a(e),frameBorder:"0",title:e}))):t.push(l.a.createElement(f.a.Item,{key:n},l.a.createElement("img",{style:{maxHeight:"350px",width:"auto",objectFit:"cover",objectPosition:"center",borderRadius:"5px",border:"4px solid whitesmoke"},className:"d-block w-100",alt:e,src:e})))})),t}(a)),l.a.createElement(b.a,{style:{position:"absolute",top:"-41px"},src:"https://i.imgur.com/jawkXJV.png?3",fluid:!0})),l.a.createElement(S.a.Body,{style:{textAlign:"center"}},l.a.createElement("h3",null,a.name),l.a.createElement("p",null,a.text)))),l.a.createElement(k.a,{lg:6},l.a.createElement("h3",{style:{textAlign:"center"}},"UPCOMING EVENT"),l.a.createElement(S.a,{className:"block-background",style:{marginBottom:"15px",borderRadius:"5px"}},l.a.createElement(S.a.Header,{style:{textAlign:"center",height:"325px"}},l.a.createElement(b.a,{style:{position:"absolute",top:"-41px"},src:"https://i.imgur.com/jawkXJV.png?3",fluid:!0}),l.a.createElement(b.a,{style:{height:"300px",width:"100%",objectFit:"cover",objectPosition:"center",borderRadius:"5px",border:"0.5px solid whitesmoke"},src:i.link,thumbnail:!0,fluid:!0})),l.a.createElement(S.a.Body,{style:{textAlign:"center"}},l.a.createElement("h3",null,i.name),l.a.createElement("h4",null,i.date),l.a.createElement("p",null,i.text))))))},I=a(123),D=function(){return l.a.createElement(I.a,null,l.a.createElement(E,null),l.a.createElement(x,null),l.a.createElement(O,null))},w=a(131),j=a(86),A=a(124);var R=function(){var e=function(){localStorage.clear()};return l.a.createElement(I.a,null,l.a.createElement(w.a,{style:{borderRadius:"5px"},className:"block-background",variant:"light",bg:"light",expand:"lg"},l.a.createElement(w.a.Brand,{href:"/"},"KVH Geronimo"),l.a.createElement(w.a.Toggle,{"aria-controls":"basic-navbar-nav"}),l.a.createElement(w.a.Collapse,{id:"basic-navbar-nav"},l.a.createElement(j.a,{className:"mr-auto"},l.a.createElement(j.a.Link,{href:"/platoon"},"Platoon"),l.a.createElement(j.a.Link,{href:"/gallerycli"},"Gallery"),l.a.createElement(j.a.Link,{href:"/reportscli"},"Reports"),localStorage.getItem("logged")&&l.a.createElement(j.a.Link,{href:"/calendarcli"},"Calendar"))),l.a.createElement(w.a.Collapse,{className:"justify-content-end"},localStorage.getItem("logged")?l.a.createElement(j.a,null,l.a.createElement(j.a.Link,{href:"/soldiers"},"Compare Equipment"),l.a.createElement(j.a.Link,{href:"/user"},localStorage.getItem("nameFull")),l.a.createElement(A.a,{href:"/",onClick:e,variant:"outline-dark"},"Sign Out")):l.a.createElement(j.a,null,l.a.createElement(A.a,{href:"/login",onClick:e,variant:"outline-dark"},"Sign In")))))},L=a(15),N=a(17);var B=function(e){var t={maxHeight:"750px",overflowY:"auto",margin:"10px 0px",backgroundColor:"#f1f1f1",borderRadius:"15px"};return e.obj.length>8&&(t={maxHeight:"500px",overflowY:"auto",margin:"10px 0px",backgroundColor:"#f1f1f1",borderRadius:"15px"}),e.obj.map((function(a,n){var r="undefined",o="undefined";return a.constructor===Array&&l.a.createElement(k.a,{className:"block-background",sm:6,lg:3,style:t,key:n},a.map((function(t,a){return!t.army[0].includes(e.armyType,"universal")&&"all"!==e.armyType||(o!==t.sold?(o=t.sold,r=t.type,l.a.createElement("span",{key:a},l.a.createElement("h2",null,t.sold,l.a.createElement(A.a,{size:"sm",variant:"light",style:{margin:"0px 0px 30px 3px",padding:"0px 5px"},"data-pass":t.soldShort,onClick:e.updateSoldier},"X")),l.a.createElement("h3",null,t.type),l.a.createElement("p",{className:"para","data-header":t.name,"data-short":t.short,onClick:e.togglePop},t.name),t.val&&l.a.createElement(N.a,{className:"float-right btn-check"}),l.a.createElement("br",null))):r!==t.type?(r=t.type,l.a.createElement("span",{key:a},l.a.createElement("h3",null,t.type),l.a.createElement("p",{className:"para","data-header":t.name,"data-short":t.short,onClick:e.togglePop},t.name),t.val&&l.a.createElement(N.a,{className:"float-right btn-check"}),l.a.createElement("br",null))):l.a.createElement("span",{key:a},l.a.createElement("p",{className:"para","data-header":t.name,"data-short":t.short,onClick:e.togglePop},t.name),t.val&&l.a.createElement(N.a,{className:"float-right btn-check"}),l.a.createElement("br",null)))})))}))},P=a(128),F=function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).handleClose=function(){e.props.fadePop(),e.setState({popup:!1})},e.ShowSellers=function(){return e.getItems(e.state.itemLinks).map((function(e,t){return l.a.createElement(k.a,{key:t},l.a.createElement(A.a,{target:"_blank",style:{fontSize:20},variant:"light",href:e[1]},e[0]))}))},e.getItems=function(e){var t=[];for(var a in e)e.hasOwnProperty(a)&&t.push([a,e[a]]);return t},e.state={popup:!0,itemImage:null,itemLinks:{},missingImageError:!1},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;g.a.get("https://kvhgeronimo.herokuapp.com/equipInfo/".concat(this.props.item[1])).then((function(t){e.setState({itemImage:t.data.image,itemLinks:t.data.links})})).catch((function(t){t.toString().includes("Cannot read property")?e.setState({missingImageError:!0}):console.log(t)}))}},{key:"componentWillUnmount",value:function(){this.setState({itemImage:null,itemId:null})}},{key:"render",value:function(){return l.a.createElement(P.a,{show:this.state.popup,onHide:this.handleClose},l.a.createElement(P.a.Header,null,l.a.createElement(P.a.Title,null,this.props.item[0])),l.a.createElement(P.a.Body,null,l.a.createElement(I.a,null,l.a.createElement(y.a,{className:"show-grid"},l.a.createElement(k.a,{md:6},this.state.missingImageError?l.a.createElement(b.a,{src:"https://cdn2.vectorstock.com/i/thumb-large/47/66/\r\nww2-soldier-warriors-theme-vector-2674766.jpg",fluid:!0}):l.a.createElement(b.a,{src:this.state.itemImage,fluid:!0})),l.a.createElement(k.a,{md:6},"Toto je popisok k obrazku a tento popisok este nieje napisany do databazy takze tu je zatial len tato jedna veta ako placeholder.")),l.a.createElement("br",null),l.a.createElement("h5",null,"Recommended Models:"),l.a.createElement(y.a,null,l.a.createElement(this.ShowSellers,null)))),l.a.createElement(P.a.Footer,null,l.a.createElement(A.a,{variant:"outline-dark",onClick:this.handleClose},"Close")))}}]),a}(n.Component),M=function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).getUpdate=function(){g.a.get("https://kvhgeronimo.herokuapp.com/soldier").then((function(e){n.setState({soldiers:e.data})})).catch((function(e){console.log(e)}))},n.togglePop=function(e){var t=e.currentTarget.dataset.header,a=e.currentTarget.dataset.short;n.setState({popup:!n.state.popup,soldier:"",actualItem:[t,a]})},n.fadePop=function(){n.setState({popup:!n.state.popup})},n.updateSoldier=function(e){var t=e.currentTarget.dataset.pass;n.state.moreSoldiers.splice(n.state.moreSoldiers.indexOf(t),2);var a=n.state.moreSoldiers;n.setState({moreSoldiers:a,soldier:"remove"})},n.handleChange=function(e){var t,a=e.target,l=a.name,r=a.value,o=a.type,s=a.checked;"checkbox"===o?n.setState(Object(L.a)({},l,s)):n.setState((t={},Object(L.a)(t,l,r),Object(L.a)(t,"joinData",[]),t))},n.getSoldierForm=function(){var e=[];return n.state.soldiers.map((function(t,a){e.push(l.a.createElement("option",{key:a,value:t.name},t.nameFull))})),e},n.state={army:"all",soldier:localStorage.getItem("username"),isChecked:!1,soldierName:[],soldiers:[],equipment:[],joinData:[],moreSoldiers:[],popup:!1,actualItem:[]},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;g.a.get("https://kvhgeronimo.herokuapp.com/equipment").then((function(t){e.setState({equipment:t.data})})).catch((function(e){console.log(e)})),this.getUpdate()}},{key:"render",value:function(){var e=this.state.equipment,t=this.state.soldier,a=this.state.soldiers,n=this.state.joinData,r=this.state.soldierName,o=this.state.moreSoldiers;return l.a.createElement(I.a,null,void a.map((function(a){var l=function(e){var t=[];for(var a in e)e.hasOwnProperty(a)&&t.push([a,e[a]]);return t}(a.equip);return a.name===t&&(!r.includes(a.name)&&r.push(a.name,a.nameFull),l.map((function(t){return e.map((function(e){return e.short===t[0]&&n.push({type:e.type,name:e.name,army:[e.army],short:t[0],val:t[1],sold:a.nameFull,soldShort:a.name,id:a._id})}))})),!o.includes(a.name)&&o.push(a.name,n))})),l.a.createElement(y.a,null,l.a.createElement(k.a,{sm:3},l.a.createElement("form",null,l.a.createElement("select",{value:this.state.soldier,onChange:this.handleChange,name:"soldier"},l.a.createElement("option",{value:""}),this.getSoldierForm()))),l.a.createElement(k.a,{sm:2},l.a.createElement("form",null,l.a.createElement("select",{value:this.state.army,onChange:this.handleChange,name:"army"},l.a.createElement("option",{value:"all"},"Complete"),l.a.createElement("option",{value:"509"},"509th"),l.a.createElement("option",{value:"101"},"101st"),l.a.createElement("option",{value:"armored"},"Armored"),l.a.createElement("option",{value:"aclass"},"A-Class"),l.a.createElement("option",{value:"bclass"},"B-Class"),l.a.createElement("option",{value:"cclass"},"C-Class"))))),l.a.createElement("br",null),this.state.popup?l.a.createElement(F,{item:this.state.actualItem,popup:this.state.popup,fadePop:this.fadePop}):null,l.a.createElement(I.a,null,l.a.createElement(y.a,null,l.a.createElement(B,{armyType:this.state.army,obj:o,updateSoldier:this.updateSoldier,togglePop:this.togglePop}))))}}]),a}(n.Component),T=a(129),q=function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).handleChange=function(t){var a=t.target,n=a.name,l=a.value,r=a.type,o=a.checked;"checkbox"===r?e.setState(Object(L.a)({},n,o)):e.setState(Object(L.a)({},n,l))},e.handleSubmit=function(){g.a.get("https://kvhgeronimo.herokuapp.com/soldier/".concat(e.state.password)).then((function(t){t.data.name===e.state.username&&t.data.password===e.state.password?(console.log("Logged In"),localStorage.setItem("logged",!0),localStorage.setItem("username",e.state.username),localStorage.setItem("id",t.data._id),localStorage.setItem("nameFull",t.data.nameFull),t.data.isAdmin&&localStorage.setItem("isAdmin",!0),e.props.loggingOn(),e.props.history.goBack()):console.log("Wrong username or password",t.data.name,t.data.password)})).catch((function(e){console.log(e)}))},e.state={username:"",password:""},e}return Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement(I.a,{style:{position:"relative",maxWidth:"350px",marginTop:"5%",marginBottom:"5%"}},l.a.createElement(T.a,{className:"text-center"},l.a.createElement(T.a.Group,null,l.a.createElement(T.a.Label,null,"Username"),l.a.createElement(T.a.Control,{type:"text",placeholder:"Enter username",className:"text-center",name:"username",value:this.state.username,onChange:this.handleChange})),l.a.createElement(T.a.Group,null,l.a.createElement(T.a.Label,null,"Password"),l.a.createElement(T.a.Control,{type:"password",placeholder:"Password",className:"text-center",name:"password",value:this.state.password,onChange:this.handleChange})),l.a.createElement(A.a,{variant:"dark",onClick:this.handleSubmit},"Log In")))}}]),a}(n.Component);var H=function(e){var t=Object(n.useState)("all"),a=Object(C.a)(t,2),r=a[0],o=a[1],s=e.equip,i=e.soldier,c=function(t){g.a.get("https://kvhgeronimo.herokuapp.com/soldier/".concat(localStorage.getItem("id"))).then((function(a){var n=a.data.equip;for(var l in n)if(l===t){n[l]=!n[l];var r=n;g.a.post("https://kvhgeronimo.herokuapp.com/soldier/update/".concat(localStorage.getItem("id")),{equip:r}).then((function(t){console.log(t.data),e.refresh()})).catch((function(e){console.log(e)}))}})).catch((function(e){console.log(e)}))},p=s.map((function(t){for(var a in i)if(a===t.short)return[t.type,t.name,t.short,e.soldier[a],t.army];return!0})),m=[],u=[];return l.a.createElement(I.a,null,l.a.createElement("form",null,l.a.createElement("select",{value:r,onChange:function(e){var t=e.target.value;o(t)},name:"army"},l.a.createElement("option",{value:"all"},"Complete"),l.a.createElement("option",{value:"509"},"509th"),l.a.createElement("option",{value:"101"},"101st"),l.a.createElement("option",{value:"armored"},"Armored"),l.a.createElement("option",{value:"aclass"},"A-Class"),l.a.createElement("option",{value:"bclass"},"B-Class"),l.a.createElement("option",{value:"cclass"},"C-Class"))),l.a.createElement("br",null),function(){var t,a=[],n=Object(d.a)(p);try{for(n.s();!(t=n.n()).done;){var o=t.value;a.includes(o[0])||a.push(o[0])}}catch(E){n.e(E)}finally{n.f()}r.includes("class")?(a.splice(a.indexOf("CampEquip"),1),a.splice(a.indexOf("ArmsEquip"),1)):r.includes("all")||a.splice(a.indexOf("CampEquip"),1);for(var s=0,i=a;s<i.length;s++){var h=i[s];m.push(h);var g,f=Object(d.a)(p);try{var v=function(){var t=g.value;void 0===t[4]||t[0]!==h||!t[4].includes(r,"universal")&&"all"!==r||m.push(l.a.createElement("span",{key:t[2]},l.a.createElement("p",{lg:8,className:"para","data-header":t[1],"data-short":t[2],onClick:e.togglePop},t[1]),t[3]?l.a.createElement(N.l,{className:"btn-smaller",onClick:function(){c(t[2])}}):l.a.createElement(N.m,{className:"btn-smaller",onClick:function(){c(t[2])}}),l.a.createElement("br",null)))};for(f.s();!(g=f.n()).done;)v()}catch(E){f.e(E)}finally{f.f()}h&&u.push(l.a.createElement("span",{key:h},l.a.createElement("h3",null,m.splice(0,1)),l.a.createElement(I.a,null,l.a.createElement(y.a,{xl:4,md:3,sm:2,xs:1},m)))),m=[]}return u}())},z=function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).cancelEdit=function(){n.setState({edit:!n.state.edit})},n.setEdit=function(){n.setState({edit:!n.state.edit}),n.state.edit&&g.a.post("https://kvhgeronimo.herokuapp.com/soldier/update-story/".concat(localStorage.getItem("id")),{story:n.state.myStory}).then((function(e){console.log(e.data)})).catch((function(e){return console.log(e.response)}))},n.handleChange=function(e){var t=e.target,a=t.name,l=t.value;n.setState(Object(L.a)({},a,l))},n.getSoldierInfo=function(){return l.a.createElement(l.a.Fragment,null,!!n.props.soldierData.completeName&&l.a.createElement("p",{style:{fontSize:"150%"}},n.props.soldierData.rank," ",n.props.soldierData.completeName),!!n.props.soldierData.func&&l.a.createElement("p",{style:{fontSize:"125%",marginTop:"-15px"}},n.props.soldierData.squad,", ",n.props.soldierData.func),!!n.props.soldierData._id&&l.a.createElement("p",{style:{fontSize:"105%",marginTop:"-15px"}},n.props.soldierData._id),!!n.props.soldierData.birth&&l.a.createElement("p",null,"Date of Birth: ",n.props.soldierData.birth),!!n.props.soldierData.state&&l.a.createElement("p",null,"State: ",n.props.soldierData.state),!!n.props.soldierData.height&&l.a.createElement("p",null,"Height:  ",n.props.soldierData.height," ft., Weight: ",n.props.soldierData.weight," lbs."),!!n.props.soldierData.hair&&l.a.createElement("p",null,"Hair: ",n.props.soldierData.hair,", Eyes: ",n.props.soldierData.eyes))},n.state={edit:!1,myStory:""},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;g.a.get("https://kvhgeronimo.herokuapp.com/soldier/".concat(localStorage.getItem("id"))).then((function(t){e.setState({myStory:t.data.story})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return l.a.createElement(I.a,{style:{marginTop:"-24px",borderRadius:"5px"}},l.a.createElement(y.a,{style:{paddingTop:"25px"}},l.a.createElement(k.a,{lg:{span:4,offset:2},sm:6,style:{textAlign:"center"}},l.a.createElement(b.a,{style:{marginBottom:"25px"},src:this.props.soldierData.imageURL?this.props.soldierData.imageURL:"https://i.ibb.co/RYtTKY1/emptypicture.jpg",thumbnail:!0,fluid:!0})),l.a.createElement(k.a,{lg:4,sm:6,style:{textAlign:"center"}},this.getSoldierInfo())),l.a.createElement(y.a,null,l.a.createElement(k.a,{md:10,style:{textAlign:"right"}},this.state.edit?l.a.createElement(l.a.Fragment,null,l.a.createElement(A.a,{className:"edit-story",variant:"outline-light",onClick:this.setEdit},"Save"),l.a.createElement(A.a,{className:"edit-story",variant:"outline-light",onClick:this.cancelEdit},"Cancel")):l.a.createElement(A.a,{className:"edit-story",variant:"outline-light",onClick:this.setEdit},"Edit Story"))),l.a.createElement(y.a,null,l.a.createElement(k.a,{style:{whiteSpace:"pre-line",marginBottom:"75px"},sm:{span:10,offset:1},md:{span:8,offset:2}},l.a.createElement("h4",{style:{textAlign:"center"}},"My Story"),this.state.edit?l.a.createElement("textarea",{onChange:this.handleChange,name:"myStory",value:this.state.myStory,style:{borderRadius:"10px",width:"105%",height:"300%"}}):this.state.myStory)))}}]),a}(n.Component),_=a(62),U=a.n(_),G=a(83),W=a(125),X=function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).refreshFiles=function(){n.setState({refresh:!0}),g.a.get("https://kvhgeronimo.herokuapp.com/getFiles").then((function(e){n.state.refresh&&n.setState({checkFiles:e.data.outputArr}),n.setState({refresh:!1})})).catch((function(e){console.log(e)}))},n.handleUpload=function(){var e=Object(G.a)(U.a.mark((function e(t){var a,l,r;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),(a=new FormData).append("file",n.state.file),e.prev=3,e.next=6,g.a.post("https://kvhgeronimo.herokuapp.com/fileUpload",a,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:function(e){n.setState({uploadPercentage:parseInt(Math.round(100*e.loaded/e.total))}),100===n.state.uploadPercentage&&setTimeout((function(){return n.setState({uploadPercentage:0})}),4e3)}});case 6:l=e.sent,r=l.data.fileName,n.setState({uploadedFile:r}),n.refreshFiles(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),500===e.t0.response.status?console.log("There was a problem with the server"):console.log(e.t0.response.data.msg);case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}(),n.downloadFile=function(e){g.a.get("https://kvhgeronimo.herokuapp.com/download",{headers:{"Content-Type":"application/json"},params:e}).then((function(){window.open("https://kvhgeronimo.herokuapp.com/download?0=".concat(e)),console.log("Downloading"),n.refreshFiles()})).catch((function(e){404===e.response.status?console.log("deleted."):console.log(e)}))},n.deleteFile=function(e){g.a.get("https://kvhgeronimo.herokuapp.com/delete",{headers:{"Content-Type":"application/json"},params:e}).then((function(){console.log("Deleting"),n.refreshFiles()})).catch((function(e){console.log(e)}))},n.showFiles=function(){var e=[],t="";return n.state.checkFiles.map((function(a,r){t=a.split("."),e.push(l.a.createElement(k.a,{className:"pointer-on-hover",xs:6,md:3,lg:2,key:r},n.state.deleteFiles&&l.a.createElement(A.a,{size:"sm",variant:"outline-dark",onClick:function(){return n.deleteFile(a)}},"Delete"),l.a.createElement("span",{onClick:function(){return n.downloadFile(a)}},["jpg","jpeg","png","bmp"].includes(t[t.length-1])?l.a.createElement(N.g,{style:{height:"100px",width:"100%",marginTop:"5px",marginBottom:"5px"},fluid:"true"}):["pdf","svg"].includes(t[t.length-1])?l.a.createElement(N.h,{style:{height:"100px",width:"100%",marginTop:"5px",marginBottom:"5px"},fluid:"true"}):["xls","xlsx","xlsb","xlsm"].includes(t[t.length-1])?l.a.createElement(N.f,{style:{height:"100px",width:"100%",marginTop:"5px",marginBottom:"5px"},fluid:"true"}):["doc","docx","docm"].includes(t[t.length-1])?l.a.createElement(N.j,{style:{height:"100px",width:"100%",marginTop:"5px",marginBottom:"5px"},fluid:"true"}):["zip","rar"].includes(t[t.length-1])?l.a.createElement(N.e,{style:{height:"100px",width:"100%",marginTop:"5px",marginBottom:"5px"},fluid:"true"}):["pptx","pptm","ppt"].includes(t[t.length-1])?l.a.createElement(N.i,{style:{height:"100px",width:"100%",marginTop:"5px",marginBottom:"5px"},fluid:"true"}):l.a.createElement(N.d,{style:{height:"100px",width:"100%",marginTop:"5px",marginBottom:"5px"},fluid:"true"}),l.a.createElement("p",{style:{textAlign:"center",overflow:"hidden",height:"40px"}},a))))})),e},n.handleChange=function(e){e.currentTarget.files[0]&&n.setState({file:e.currentTarget.files[0],fileName:e.currentTarget.files[0].name})},n.resetUploadedState=function(){n.setState({uploadedFile:""})},n.showMessage=function(){return l.a.createElement(y.a,{style:{marginBottom:"15px"}},l.a.createElement(k.a,{style:{textAlign:"center",backgroundColor:"whitesmoke",margin:"0px 15%",maxHeight:"50px",overflow:"hidden",borderRadius:"15px"}},l.a.createElement("h5",{style:{textAlign:"center"}},"Upload successful! ",l.a.createElement("br",null)," ",n.state.fileName),setTimeout((function(){return n.resetUploadedState()}),3750)))},n.toggleDelMode=function(){n.setState({deleteFiles:!n.state.deleteFiles})},n.state={file:"",filename:"Choose File",uploadedFile:"",checkFiles:[],refresh:!1,uploadPercentage:0,deleteFiles:!1},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;g.a.get("https://kvhgeronimo.herokuapp.com/getFiles").then((function(t){e.state.checkFiles.length<1&&e.setState({checkFiles:t.data.outputArr})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return l.a.createElement(n.Fragment,null,this.state.uploadedFile&&this.showMessage(),l.a.createElement(y.a,null,l.a.createElement(k.a,null,l.a.createElement(T.a,{onSubmit:this.handleUpload},l.a.createElement(T.a.File,{onChange:this.handleChange,name:"uploadFile",style:{float:"left",marginLeft:"10px"}}),l.a.createElement(A.a,{style:{marginLeft:"20px"},size:"sm",variant:"dark",type:"submit"},"Upload File")))),l.a.createElement(W.a,{variant:"dark",style:{margin:"5px 0px",background:"transparent"},now:this.state.uploadPercentage}),l.a.createElement(y.a,{style:{padding:"15px"}},this.showFiles()),l.a.createElement(y.a,{style:{textAlign:"center"}},l.a.createElement(k.a,null,this.state.deleteFiles?l.a.createElement(A.a,{size:"sm",variant:"outline-dark",onClick:this.toggleDelMode},"Done Deleting"):l.a.createElement(A.a,{variant:"outline-dark",size:"sm",onClick:this.toggleDelMode},"Delete Mode"))))}}]),a}(n.Component),Y=a(126),J=a(127),K=function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).refreshProps=function(){g.a.get("https://kvhgeronimo.herokuapp.com/soldier/".concat(localStorage.getItem("id"))).then((function(t){e.setState({soldier:t.data.equip})}))},e.togglePop=function(t){var a=t.target.dataset.header,n=t.target.dataset.short;e.setState({popup:!e.state.popup,actualItem:[a,n]})},e.fadePop=function(){e.setState({popup:!e.state.popup})},e.removeAdmin=function(){localStorage.removeItem("isAdmin"),e.setState({toggleRefresh:!e.state.toggleRefresh})},e.addAdmin=function(){localStorage.setItem("isAdmin",!0),e.setState({toggleRefresh:!e.state.toggleRefresh})},e.state={equipment:[],soldier:{},popup:!1,actualItem:[],toggleRefresh:!1,soldierData:{}},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;g.a.get("https://kvhgeronimo.herokuapp.com/equipment/").then((function(t){e.setState({equipment:t.data})})).catch((function(e){console.log(e)})),g.a.get("https://kvhgeronimo.herokuapp.com/soldier/".concat(localStorage.getItem("id"))).then((function(t){e.setState({soldier:t.data.equip,soldierData:t.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return l.a.createElement(I.a,null,this.state.popup?l.a.createElement(F,{item:this.state.actualItem,popup:this.state.popup,fadePop:this.fadePop}):null,this.state.soldierData.isAdmin&&(localStorage.getItem("isAdmin")?l.a.createElement(A.a,{style:{position:"relative",float:"right"},onClick:this.removeAdmin,variant:"outline-dark"},"Admin Mode: ON"):l.a.createElement(A.a,{style:{position:"relative",float:"right"},onClick:this.addAdmin,variant:"outline-dark"},"Admin Mode: OFF")),l.a.createElement(Y.a,{className:"color-tab",defaultActiveKey:"profile"},l.a.createElement(J.a,{className:"soldier-background",eventKey:"profile",title:"Profile"},l.a.createElement("br",null),l.a.createElement(z,{refresh:this.refreshProps,soldierData:this.state.soldierData})),l.a.createElement(J.a,{className:"soldier-background",eventKey:"itemList",title:"List of Items"},l.a.createElement("br",null),this.state.equipment.length>0&&l.a.createElement(H,{refresh:this.refreshProps,togglePop:this.togglePop,equip:this.state.equipment,soldier:this.state.soldier})),this.state.soldierData.isAdmin&&localStorage.getItem("isAdmin")&&l.a.createElement(J.a,{className:"soldier-background",eventKey:"files",title:"Documents"},l.a.createElement("br",null),l.a.createElement(X,{refresh:this.refreshProps}))))}}]),a}(n.Component),V=function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).getSoldierInfo=function(){return l.a.createElement(l.a.Fragment,null,!!n.props.soldierData.completeName&&l.a.createElement("p",{style:{fontSize:"150%"}},n.props.soldierData.rank," ",n.props.soldierData.completeName),!!n.props.soldierData.func&&l.a.createElement("p",{style:{fontSize:"125%",marginTop:"-15px"}},n.props.soldierData.squad,", ",n.props.soldierData.func),!!n.props.soldierData._id&&l.a.createElement("p",{style:{fontSize:"105%",marginTop:"-15px"}},n.props.soldierData._id),!!n.props.soldierData.birth&&l.a.createElement("p",null,"Date of Birth: ",n.props.soldierData.birth),!!n.props.soldierData.state&&l.a.createElement("p",null,"State: ",n.props.soldierData.state),!!n.props.soldierData.height&&l.a.createElement("p",null,"Height:  ",n.props.soldierData.height," ft., Weight: ",n.props.soldierData.weight," lbs."),!!n.props.soldierData.hair&&l.a.createElement("p",null,"Hair: ",n.props.soldierData.hair,", Eyes: ",n.props.soldierData.eyes))},n.state={myStory:""},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;g.a.get("https://kvhgeronimo.herokuapp.com/soldier/".concat(this.props.soldierID)).then((function(t){e.setState({myStory:t.data.story})})).catch((function(t){e.props.close(),console.log(t)}))}},{key:"render",value:function(){return l.a.createElement(I.a,null,l.a.createElement(y.a,null,l.a.createElement(k.a,{lg:{span:4,offset:2},style:{textAlign:"center"}},l.a.createElement(b.a,{style:{marginTop:"40px"},src:this.props.soldierData.imageURL?this.props.soldierData.imageURL:"https://i.ibb.co/RYtTKY1/emptypicture.jpg",thumbnail:!0,fluid:!0})),l.a.createElement(k.a,{lg:4,style:{textAlign:"center"}},this.getSoldierInfo())),!!this.state.myStory&&l.a.createElement(y.a,null,l.a.createElement(k.a,{style:{whiteSpace:"pre-line"},sm:{span:10,offset:1},md:{span:8,offset:2}},l.a.createElement("h4",{style:{textAlign:"center"}},"My Story"),this.state.myStory)))}}]),a}(n.Component),Q=function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleClose=function(){n.props.fadePop(),n.setState({popup:!1,soldierData:{}})},n.state={popup:!0,soldierData:{}},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;g.a.get("https://kvhgeronimo.herokuapp.com/soldier/".concat(this.props.soldierID)).then((function(t){e.setState({soldierData:t.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return l.a.createElement(P.a,{size:"lg",show:this.state.popup,onHide:this.handleClose},l.a.createElement(P.a.Body,{className:"block-background"},this.state.soldierData&&l.a.createElement(V,{close:this.handleClose,soldierID:this.props.soldierID,soldierData:this.state.soldierData})),l.a.createElement(P.a.Footer,{className:"block-background"},l.a.createElement(A.a,{variant:"outline-dark",onClick:this.handleClose},"Close")))}}]),a}(n.Component),Z=function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleDelete=function(){g.a.delete("https://kvhgeronimo.herokuapp.com/".concat(n.props.collectionID,"/").concat(n.props.itemID)).then((function(e){console.log(e.data),n.props.toggleRefresh()})).catch((function(e){console.log(e)})),n.handleClose()},n.handleClose=function(){n.props.toggleDeleteItem(),n.setState({popup:!1})},n.state={popup:!0},n}return Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement(P.a,{show:this.state.popup,onHide:this.handleClose},console.log(this.props.collectionID,this.props.itemID),l.a.createElement(P.a.Body,{style:{textAlign:"center"}},l.a.createElement("p",null,"Are you sure you want to delete this item?"),l.a.createElement("p",null,l.a.createElement(A.a,{onClick:this.handleDelete,variant:"outline-dark"},"Yes"),l.a.createElement(A.a,{variant:"outline-dark",onClick:this.handleClose},"No"))))}}]),a}(n.Component),$=a(84),ee=a(85),te=function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).handleClose=function(){e.props.toggleAddSoldier(),e.setState({popup:!1})},e.handleChange=function(t){var a=t.target,n=a.name,l=a.value;e.setState(Object(L.a)({},n,l))},e.addReport=function(){"WAC"===e.state.squad?e.setState({equip:ee}):e.setState({equip:$}),g.a.post("https://kvhgeronimo.herokuapp.com/soldier/add",{_id:e.state._id,password:e.state._id,nameFull:e.state.nameFull,completeName:e.state.completeName,name:e.state.name,rank:e.state.rank,state:e.state.state,birth:e.state.birth,eyes:e.state.eyes,hair:e.state.hair,weight:e.state.weight,height:e.state.height,story:e.state.story,action:e.state.action,squad:e.state.squad,func:e.state.func,imageURL:e.state.imageURL,equip:e.state.equip}).then((function(t){console.log(t.data),e.props.toggleRefresh()})).catch((function(e){return console.log(e.response)})),e.handleClose()},e.handleOnHide=function(){console.log("Use Button to hide.")},e.state={popup:!0,_id:"",nameFull:"",completeName:"",name:"",rank:"",state:"",birth:"",eyes:"",hair:"",weight:"",height:"",story:"",action:"",squad:"",func:"",imageURL:"",equip:{}},e}return Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement(P.a,{size:"lg",show:this.state.popup,onHide:this.handleOnHide},l.a.createElement(P.a.Header,{className:"justify-content-end"},l.a.createElement(A.a,{size:"sm",variant:"outline-secondary",onClick:this.handleClose},"X")),l.a.createElement(P.a.Body,{style:{whiteSpace:"pre-line"}},l.a.createElement(I.a,null,l.a.createElement("form",null,l.a.createElement("input",{style:{borderRadius:"10px",width:"50%",textAlign:"center",marginBottom:"15px",display:"inline-block"},onChange:this.handleChange,type:"text",name:"_id",value:this.state._id,placeholder:"Army Serial Number"}),l.a.createElement("input",{style:{borderRadius:"10px",width:"50%",textAlign:"center",marginBottom:"15px",display:"inline-block"},onChange:this.handleChange,type:"text",name:"nameFull",value:this.state.nameFull,placeholder:"Full Last Name: M. O' Connor"}),l.a.createElement("input",{style:{borderRadius:"10px",width:"50%",textAlign:"center",marginBottom:"15px",display:"inline-block"},onChange:this.handleChange,type:"text",name:"completeName",value:this.state.completeName,placeholder:"Full Name: Matthew O' Connor"}),l.a.createElement("input",{style:{borderRadius:"10px",width:"50%",textAlign:"center",marginBottom:"15px",display:"inline-block"},onChange:this.handleChange,type:"text",name:"name",value:this.state.name,placeholder:"Username: matthewoconnor"}),l.a.createElement("input",{style:{borderRadius:"10px",width:"50%",textAlign:"center",marginBottom:"15px",display:"inline-block"},readOnly:!0,type:"text",name:"password",value:this.state._id,placeholder:"Password (currently the same as ASN)"}),l.a.createElement("input",{style:{borderRadius:"10px",width:"50%",textAlign:"center",marginBottom:"15px",display:"inline-block"},onChange:this.handleChange,type:"text",name:"state",value:this.state.state,placeholder:"State"}),l.a.createElement("input",{style:{borderRadius:"10px",width:"50%",textAlign:"center",marginBottom:"15px",display:"inline-block"},onChange:this.handleChange,type:"text",name:"birth",value:this.state.birth,placeholder:"Date of Birth"}),l.a.createElement("input",{style:{borderRadius:"10px",width:"50%",textAlign:"center",marginBottom:"15px",display:"inline-block"},onChange:this.handleChange,type:"text",name:"eyes",value:this.state.eyes,placeholder:"Eye Color"}),l.a.createElement("input",{style:{borderRadius:"10px",width:"50%",textAlign:"center",marginBottom:"15px",display:"inline-block"},onChange:this.handleChange,type:"text",name:"hair",value:this.state.hair,placeholder:"Hair Color"}),l.a.createElement("input",{style:{borderRadius:"10px",width:"50%",textAlign:"center",marginBottom:"15px",display:"inline-block"},onChange:this.handleChange,type:"text",name:"weight",value:this.state.weight,placeholder:"Weight"}),l.a.createElement("input",{style:{borderRadius:"10px",width:"50%",textAlign:"center",marginBottom:"15px",display:"inline-block"},onChange:this.handleChange,type:"text",name:"height",value:this.state.height,placeholder:"Height"}),l.a.createElement("input",{style:{borderRadius:"10px",width:"50%",textAlign:"center",marginBottom:"15px",display:"inline-block"},onChange:this.handleChange,type:"text",name:"imageURL",value:this.state.imageURL,placeholder:"URL to Image (leave empty if none)"}),l.a.createElement("p",{style:{borderRadius:"10px",textAlign:"center",width:"50%",display:"inline-block"}},"Rank:",l.a.createElement("br",null),l.a.createElement("select",{value:this.state.rank,onChange:this.handleChange,name:"rank",style:{width:"95%"}},l.a.createElement("option",{value:""}),l.a.createElement("option",{value:"Pvt."},"Private"),l.a.createElement("option",{value:"Pfc."},"Private 1st Class"),l.a.createElement("option",{value:"Cpl."},"Corporal"),l.a.createElement("option",{value:"Sgt."},"Sergeant"),l.a.createElement("option",{value:"T/5"},"Technician 5th Grade"),l.a.createElement("option",{value:"Lt."},"Lieutenant"),l.a.createElement("option",{value:"Cpt."},"Captain"))),l.a.createElement("p",{style:{borderRadius:"10px",textAlign:"center",width:"50%",display:"inline-block"}},"Function:",l.a.createElement("br",null),l.a.createElement("select",{value:this.state.func,onChange:this.handleChange,name:"func",style:{width:"95%"}},l.a.createElement("option",{value:""}),l.a.createElement("option",{value:"Rifle Man"},"Rifle Man"),l.a.createElement("option",{value:"2nd Assistant SQ Leader"},"2nd Assistant SQ Leader"),l.a.createElement("option",{value:"2nd in Charge"},"2nd in Charge"),l.a.createElement("option",{value:"Squad Leader"},"Squad Leader"),l.a.createElement("option",{value:"Technician Fifth Grade"},"Technician Fifth Grade"),l.a.createElement("option",{value:"1st Lieutenant"},"1st Lieutenant"),l.a.createElement("option",{value:"Platoon Leader Assistant"},"Platoon Leader Assistant"),l.a.createElement("option",{value:"Platoon Leader"},"Platoon Leader"))),l.a.createElement("p",{style:{borderRadius:"10px",textAlign:"center",width:"50%",display:"inline-block"}},"Squad:",l.a.createElement("br",null),l.a.createElement("select",{value:this.state.squad,onChange:this.handleChange,name:"squad",style:{width:"95%"}},l.a.createElement("option",{value:""}),l.a.createElement("option",{value:"HQ"},"Headquarters"),l.a.createElement("option",{value:"WAC"},"Women's Army Corps"),l.a.createElement("option",{value:"1st Squad"},"First Squad"),l.a.createElement("option",{value:"2nd Squad"},"Second Squad"))),l.a.createElement("p",{style:{borderRadius:"10px",textAlign:"center",width:"50%",display:"inline-block"}},"Missions:",l.a.createElement("br",null),l.a.createElement("select",{value:this.state.action,onChange:this.handleChange,name:"action",style:{width:"95%"}},l.a.createElement("option",{value:""}),l.a.createElement("option",{value:"Bootcamp I."},"Bootcamp I."),l.a.createElement("option",{value:"Bootcamp II."},"Bootcamp II."),l.a.createElement("option",{value:"Bootcamp III."},"Bootcamp III."))),l.a.createElement("textarea",{style:{borderRadius:"10px",width:"100%",height:"300px"},onChange:this.handleChange,name:"story",value:this.state.story,placeholder:"Start writing story..."})),l.a.createElement(A.a,{variant:"dark",style:{width:"100%"},onClick:this.addReport},"Upload New Soldier"))))}}]),a}(n.Component),ae=function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).toggleRefresh=function(){g.a.get("https://kvhgeronimo.herokuapp.com/soldier/").then((function(t){e.setState({soldierData:t.data})})).catch((function(e){console.log(e)}))},e.handleClick=function(t){e.setState({soldierID:t.currentTarget.dataset.id}),e.togglePop()},e.togglePop=function(){e.setState({popup:!e.state.popup})},e.fadePop=function(){e.setState({popup:!e.state.popup})},e.toggleAddSoldier=function(){e.setState({addSoldier:!e.state.addSoldier})},e.toggleDeleteItem=function(t){e.setState({deleteItem:!e.state.deleteItem,passDeleteID:t.currentTarget.dataset.itemid})},e.closeDeleteItem=function(){e.setState({deleteItem:!e.state.deleteItem,passDeleteID:""})},e.getSoldiers=function(){var t=["HQ","WAC"],a=[],n=[];for(var r in e.state.soldierData){var o=e.state.soldierData[r];t.includes(o.squad)||"test"===o.squad||t.push(o.squad)}for(var s=0,i=t;s<i.length;s++){var c=i[s];for(var p in a.push(c),e.state.soldierData){var m=e.state.soldierData[p];m.squad===c&&a.push(l.a.createElement("span",{key:m._id,ref:m.func},l.a.createElement(y.a,null,localStorage.getItem("isAdmin")&&l.a.createElement(A.a,{onClick:e.toggleDeleteItem,"data-itemid":m._id,size:"sm",variant:"outline-dark",style:{marginLeft:"20px",width:"80%",height:"15px"}},l.a.createElement("span",{style:{position:"relative",top:"-7px"}},"Delete")),l.a.createElement(k.a,{xs:4},l.a.createElement(b.a,{style:{marginLeft:"5px"},src:m.imageURL?m.imageURL:"https://i.ibb.co/RYtTKY1/emptypicture.jpg",thumbnail:!0,fluid:!0})),l.a.createElement(k.a,{className:"para",onClick:e.handleClick,"data-id":m._id,xs:8},m.completeName,l.a.createElement("br",null),m.func)),l.a.createElement("br",null)))}var u,h=Object(d.a)(a);try{for(h.s();!(u=h.n()).done;){var g=u.value,f=a.indexOf(g);if(g.ref&&"Squad Leader"===g.ref){var v=a.splice(f,1);a.splice(1,0,v)}if(g.ref&&"2nd in Charge"===g.ref){var E=a.splice(f,1);a.splice(2,0,E)}if(g.ref&&"Assistant SQ Leader"===g.ref){var x=a.splice(f,1);a.splice(3,0,x)}if(g.ref&&"2nd Assistant SQ Leader"===g.ref){var C=a.splice(f,1);a.splice(4,0,C)}if(g.ref&&"Rifle Man"===g.ref){var S=a.splice(f,1);a.push(S)}}}catch(O){h.e(O)}finally{h.f()}n.push(l.a.createElement(I.a,{className:"block-background",style:{borderRadius:"5px",marginBottom:"15px"},key:t.indexOf(c)},l.a.createElement("h3",null,a.splice(0,1)),l.a.createElement(y.a,{xl:4,md:3,sm:2,xs:1},a))),a=[]}return console.log(n),n},e.state={popup:!1,soldierID:"",soldierData:{},addSoldier:!1,deleteItem:!1,passDeleteID:""},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.toggleRefresh()}},{key:"render",value:function(){return l.a.createElement(I.a,null,localStorage.getItem("isAdmin")&&l.a.createElement(y.a,{className:"justify-content-center"},l.a.createElement(A.a,{variant:"outline-dark",style:{marginBottom:"15px"},onClick:this.toggleAddSoldier},"Add Soldier")),this.state.deleteItem&&l.a.createElement(Z,{toggleRefresh:this.toggleRefresh,collectionID:"soldier",itemID:this.state.passDeleteID,toggleDeleteItem:this.closeDeleteItem}),!!this.state.addSoldier&&l.a.createElement(te,{toggleRefresh:this.toggleRefresh,toggleAddSoldier:this.toggleAddSoldier}),this.getSoldiers(),this.state.popup?l.a.createElement(Q,{popup:this.state.popup,fadePop:this.fadePop,soldierID:this.state.soldierID}):null)}}]),a}(n.Component),ne=function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).handleClose=function(){e.props.togglePop(),e.setState({popup:!1})},e.handleChange=function(t){var a=t.target,n=a.name,l=a.value;e.setState(Object(L.a)({},n,l))},e.addGallery=function(){g.a.post("https://kvhgeronimo.herokuapp.com/gallery/add",{links:e.state.links,name:e.state.name,about:e.state.about,date:e.state.date,showLink:e.state.showLink}).then((function(t){console.log(t.data),e.props.toggleRefresh()})).catch((function(e){return console.log(e.response)})),e.handleClose()},e.addLink=function(){e.state.links.push(e.state.actualLink),e.setState({actualLink:""})},e.deleteLink=function(t){e.state.links.splice(e.state.links.indexOf(t.currentTarget.dataset.deletelink),1),e.setState({refresh:!e.state.refresh})},e.showLinks=function(){var t,a=0,n=[],r=Object(d.a)(e.state.links);try{for(r.s();!(t=r.n()).done;){var o=t.value;a++,n.push(l.a.createElement("span",null,l.a.createElement("p",{key:e.state.links.indexOf(o)},l.a.createElement(A.a,{variant:"outline-dark","data-deletelink":o,size:"sm",onClick:e.deleteLink},"X"),"\xa0\xa0",l.a.createElement("strong",null,a,".\xa0"),o,"\xa0")))}}catch(s){r.e(s)}finally{r.f()}return n},e.handleOnHide=function(){console.log("Use Button to hide.")},e.state={popup:!0,links:[],actualLink:"",name:"",about:"",date:"",showLink:"",refresh:!1},e}return Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement(P.a,{size:"lg",show:this.state.popup,onHide:this.handleOnHide},l.a.createElement(P.a.Header,{className:"justify-content-end"},l.a.createElement(A.a,{size:"sm",variant:"outline-secondary",onClick:this.handleClose},"X")),l.a.createElement(P.a.Body,{style:{whiteSpace:"pre-line"}},l.a.createElement(I.a,null,l.a.createElement("form",null,l.a.createElement("input",{style:{borderRadius:"10px",width:"100%",textAlign:"center",marginBottom:"15px"},onChange:this.handleChange,type:"text",name:"name",value:this.state.name,placeholder:"Header"}),l.a.createElement("input",{style:{borderRadius:"10px",width:"100%",textAlign:"center",marginBottom:"15px"},onChange:this.handleChange,type:"text",name:"date",value:this.state.date,placeholder:"Date of the Event"}),l.a.createElement("input",{style:{borderRadius:"10px",width:"100%",textAlign:"center",marginBottom:"15px"},onChange:this.handleChange,type:"text",name:"showLink",value:this.state.showLink,placeholder:"Link of the shown Image"}),l.a.createElement("textarea",{style:{borderRadius:"10px",width:"100%",height:"300px"},onChange:this.handleChange,name:"about",value:this.state.about,placeholder:"Start writing description..."}),l.a.createElement("input",{style:{borderRadius:"10px",width:"50%",textAlign:"center",marginBottom:"15px"},onChange:this.handleChange,type:"text",name:"actualLink",value:this.state.actualLink,placeholder:"Direct Link to Image"}),l.a.createElement(A.a,{variant:"outline-dark",style:{top:"10px"},size:"sm",onClick:this.addLink},"Add Link"),this.showLinks()),l.a.createElement(A.a,{variant:"dark",style:{width:"100%"},onClick:this.addGallery},"Upload Gallery"))))}}]),a}(n.Component),le=function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).toggleRefresh=function(){g.a.get("https://kvhgeronimo.herokuapp.com/gallery/").then((function(t){e.setState({galleries:t.data.reverse()})})).catch((function(e){console.log(e)}))},e.togglePop=function(){e.setState({popup:!e.state.popup})},e.toggleDeleteItem=function(t){e.setState({deleteItem:!e.state.deleteItem,passDeleteID:t.currentTarget.dataset.itemid})},e.closeDeleteItem=function(){e.setState({deleteItem:!e.state.deleteItem,passDeleteID:""})},e.handleClick=function(t){localStorage.setItem("galleryID",t._id),e.props.history.push("opengallery")},e.getGallery=function(){var t,a=[],n=[],r=[],o=0,s=Object(d.a)(e.state.galleries);try{var i=function(){var s=t.value;a=[];var i,c=Object(d.a)(s.links);try{for(c.s();!(i=c.n()).done;){var p=i.value;s.links.indexOf(p)%2===0&&0!==s.links.indexOf(p)?(n.push(l.a.createElement(f.a.Item,{key:s.links.indexOf(p)},a)),a=[]):s.links.indexOf(p)===s.links.length-1&&(a.push(l.a.createElement(b.a,{key:s.links.indexOf(p),style:{objectFit:"cover",height:"150px"},className:"w-50",alt:"geronimo",src:p})),n.push(l.a.createElement(f.a.Item,{key:s.links.indexOf(p)},a)),a=[]),a.push(l.a.createElement(b.a,{key:s.links.indexOf(p),style:{objectFit:"cover",height:"150px"},className:"w-50",alt:"geronimo",src:p}))}}catch(m){c.e(m)}finally{c.f()}r.push(l.a.createElement(S.a,{key:o,className:"block-background",style:{marginBottom:"15px",borderRadius:"5px"}},localStorage.getItem("isAdmin")&&l.a.createElement(A.a,{onClick:e.toggleDeleteItem,"data-itemid":s._id,size:"sm",variant:"outline-dark",style:{width:"100%",height:"20px"}},l.a.createElement("span",{style:{position:"relative",top:"-4px"}},"Delete")),l.a.createElement(S.a.Header,null,l.a.createElement("h5",{style:{textAlign:"center"}},s.name),l.a.createElement(f.a,{style:{border:"3px solid whitesmoke",borderRadius:"5px"},onClick:function(){return e.handleClick(s)},className:"pointer-on-hover",interval:5e3,controls:!1,indicators:!1,pause:!1},n)),l.a.createElement(S.a.Body,null,l.a.createElement("p",null,s.about)))),n=[],o++};for(s.s();!(t=s.n()).done;)i()}catch(c){s.e(c)}finally{s.f()}return r},e.state={galleries:[],popup:!1,deleteItem:!1,passDeleteID:""},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.toggleRefresh()}},{key:"render",value:function(){return l.a.createElement(I.a,null,localStorage.getItem("isAdmin")&&l.a.createElement(y.a,{className:"justify-content-center"},l.a.createElement(A.a,{variant:"outline-dark",style:{marginBottom:"15px"},onClick:this.togglePop},"Add Gallery")),this.state.deleteItem&&l.a.createElement(Z,{toggleRefresh:this.toggleRefresh,collectionID:"gallery",itemID:this.state.passDeleteID,toggleDeleteItem:this.closeDeleteItem}),this.state.popup&&l.a.createElement(ne,{toggleRefresh:this.toggleRefresh,togglePop:this.togglePop}),this.getGallery())}}]),a}(n.Component),re=Object(u.e)(le),oe=a(63),se=function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleClose=function(){n.props.togglePop(),n.setState({popup:!1})},n.handleControls=function(){n.setState({controls:!n.state.controls})},n.nextImage=function(){var e=n.props.galleries.indexOf(n.state.newImage);e===n.props.galleries.length-1?n.setState({newImage:n.props.galleries[0]}):n.setState({newImage:n.props.galleries[e+1]})},n.prevImage=function(){var e=n.props.galleries.indexOf(n.state.newImage);e?n.setState({newImage:n.props.galleries[e-1]}):n.setState({newImage:n.props.galleries[n.props.galleries.length-1]})},n.state={popup:!0,controls:!1,newImage:n.props.actualImage},n}return Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement(P.a,{size:"lg",show:this.state.popup,onHide:this.handleClose},l.a.createElement(P.a.Body,{className:"block-background",onMouseEnter:this.handleControls,onMouseLeave:this.handleControls},this.state.controls&&l.a.createElement(oe.a,{onClick:this.prevImage,className:"leftArrow"}),this.state.controls&&l.a.createElement(oe.b,{onClick:this.nextImage,className:"rightArrow"}),l.a.createElement(b.a,{src:this.state.newImage,alt:this.props.actualImage,fluid:!0})))}}]),a}(n.Component),ie=function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).togglePop=function(t){e.setState({popup:!e.state.popup,actualImage:t})},e.showGrid=function(){var t,a=[],n=Object(d.a)(e.state.galleries);try{var r=function(){var n=t.value;a.push(l.a.createElement(k.a,{onClick:function(){return e.togglePop(n)},key:n,className:"gallery",lg:3,md:4,sm:6},l.a.createElement(b.a,{className:"img",src:n,alt:n,thumbnail:!0})))};for(n.s();!(t=n.n()).done;)r()}catch(o){n.e(o)}finally{n.f()}return a},e.state={galleries:[],popup:!1,actualImage:""},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;g.a.get("https://kvhgeronimo.herokuapp.com/gallery/".concat(localStorage.getItem("galleryID"))).then((function(t){e.setState({galleries:t.data.links})})).catch((function(e){console.log(e)}))}},{key:"componentWillUnmount",value:function(){localStorage.removeItem("galleryID")}},{key:"render",value:function(){return l.a.createElement(I.a,null,!!this.state.popup&&l.a.createElement(se,{galleries:this.state.galleries,actualImage:this.state.actualImage,togglePop:this.togglePop}),l.a.createElement(y.a,null,this.showGrid()))}}]),a}(n.Component),ce=function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).handleClose=function(){e.props.togglePop(),e.setState({popup:!1})},e.handleChange=function(t){var a=t.target,n=a.name,l=a.value;e.setState(Object(L.a)({},n,l))},e.addReport=function(){g.a.post("https://kvhgeronimo.herokuapp.com/reports/add",{links:e.state.links,name:e.state.name,isOpen:e.state.isOpen,text:e.state.text}).then((function(t){console.log(t.data),e.props.toggleRefresh()})).catch((function(e){return console.log(e.response)})),e.handleClose()},e.addLink=function(){e.state.links.push(e.state.actualLink),e.setState({actualLink:""})},e.deleteLink=function(t){e.state.links.splice(e.state.links.indexOf(t.currentTarget.dataset.deletelink),1),e.setState({refresh:!e.state.refresh})},e.showLinks=function(){var t,a=0,n=[],r=Object(d.a)(e.state.links);try{for(r.s();!(t=r.n()).done;){var o=t.value;a++,n.push(l.a.createElement("span",{key:e.state.links.indexOf(o)},l.a.createElement("p",null,l.a.createElement(A.a,{variant:"outline-dark","data-deletelink":o,size:"sm",onClick:e.deleteLink},"X"),"\xa0\xa0",l.a.createElement("strong",null,a,".\xa0"),o,"\xa0")))}}catch(s){r.e(s)}finally{r.f()}return n},e.handleOnHide=function(){console.log("Use Button to hide.")},e.state={popup:!0,links:[],actualLink:"",name:"",isOpen:!1,text:"",refresh:!1},e}return Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement(P.a,{size:"lg",show:this.state.popup,onHide:this.handleOnHide},l.a.createElement(P.a.Header,{className:"justify-content-end"},l.a.createElement(A.a,{size:"sm",variant:"outline-secondary",onClick:this.handleClose},"X")),l.a.createElement(P.a.Body,{style:{whiteSpace:"pre-line"}},l.a.createElement(I.a,null,l.a.createElement("form",null,l.a.createElement("input",{style:{borderRadius:"10px",width:"100%",textAlign:"center",marginBottom:"15px"},onChange:this.handleChange,type:"text",name:"name",value:this.state.name,placeholder:"Header"}),l.a.createElement("textarea",{style:{borderRadius:"10px",width:"100%",height:"300px"},onChange:this.handleChange,name:"text",value:this.state.text,placeholder:"Start writing..."}),l.a.createElement("br",null),l.a.createElement("input",{style:{borderRadius:"10px",width:"50%",textAlign:"center",marginBottom:"15px"},onChange:this.handleChange,type:"text",name:"actualLink",value:this.state.actualLink,placeholder:"Direct Link to Image"}),l.a.createElement(A.a,{variant:"outline-dark",style:{top:"10px"},size:"sm",onClick:this.addLink},"Add Link"),this.showLinks()),l.a.createElement(A.a,{variant:"dark",style:{width:"100%"},onClick:this.addReport},"Upload Report"))))}}]),a}(n.Component),pe=function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).toggleRefresh=function(){g.a.get("https://kvhgeronimo.herokuapp.com/reports/").then((function(t){e.setState({reports:t.data.reverse()})})).catch((function(e){console.log(e)}))},e.togglePop=function(){e.setState({popup:!e.state.popup})},e.toggleDeleteItem=function(t){e.setState({deleteItem:!e.state.deleteItem,passDeleteID:t.currentTarget.dataset.itemid})},e.closeDeleteItem=function(){e.setState({deleteItem:!e.state.deleteItem,passDeleteID:""})},e.handleClass=function(t){var a=t.target.dataset.key;e.setState({refresh:!e.state.refresh}),e.state.isOpen.splice(a,1,!e.state.isOpen[a]),e.state.isOpen[a]?e.state.handler.splice(a,1," ... "):e.state.handler.splice(a,1,"...")},e.getData=function(){var t,a=Object(d.a)(e.state.reports);try{for(a.s();!(t=a.n()).done;){var n=t.value;e.state.isOpen.push(n.isOpen),e.state.handler.push("...")}}catch(l){a.e(l)}finally{a.f()}},e.getReports=function(){var t,a=[],n=[],r=[],o=0,s=function(e){var t=e.split("watch?v=");return"https://www.youtube.com/embed/".concat(t[1])},i=Object(d.a)(e.state.reports);try{for(i.s();!(t=i.n()).done;){var c,p=t.value,m=[],u=Object(d.a)(p.links);try{for(u.s();!(c=u.n()).done;){var h=c.value;h.includes("youtube")?m.push(l.a.createElement(f.a.Item,{key:h},l.a.createElement("iframe",{width:"100%",height:"300px",src:s(h),frameBorder:"0",title:h}))):m.push(l.a.createElement(f.a.Item,{key:h},l.a.createElement("img",{style:{maxHeight:"350px",width:"auto",objectFit:"cover",objectPosition:"center",borderRadius:"5px",border:"4px solid whitesmoke"},className:"d-block w-100",alt:h,src:h})))}}catch(v){u.e(v)}finally{u.f()}a.push(l.a.createElement(S.a,{className:"block-background",key:o,style:{marginBottom:"15px",borderRadius:"5px"}},localStorage.getItem("isAdmin")&&l.a.createElement(A.a,{onClick:e.toggleDeleteItem,"data-itemid":p._id,size:"sm",variant:"outline-dark",style:{width:"100%",height:"20px"}},l.a.createElement("span",{style:{position:"relative",top:"-4px"}},"Delete")),l.a.createElement(S.a.Header,null,l.a.createElement(f.a,{controls:!1,interval:null},m),l.a.createElement(b.a,{style:{position:"absolute",top:"-41px"},src:"https://i.imgur.com/jawkXJV.png?3",fluid:!0})),l.a.createElement(S.a.Body,{style:{textAlign:"center"},className:e.state.isOpen[o]?e.state.fullCardClass:e.state.infoCardClass},l.a.createElement("h3",null,p.name),l.a.createElement("p",null,p.text)),l.a.createElement(S.a.Footer,{style:{textAlign:"center",height:"20px",fontSize:"180%"}},l.a.createElement("span",{"data-key":o,className:"pointer-on-hover card-footer-span",onClick:e.handleClass},e.state.handler[o])))),o++}}catch(v){i.e(v)}finally{i.f()}for(var g=0;g<a.length;g++)g%2!==0?r.push(a[g]):n.push(a[g]);return l.a.createElement(I.a,null,l.a.createElement(y.a,null,l.a.createElement(k.a,{lg:6},n),l.a.createElement(k.a,{lg:6},r)))},e.state={fullCardClass:"report-full",infoCardClass:"report-info",fadein:"fadein",fadeout:"fadeout",handler:[],reports:[],isOpen:[],refresh:!0,popup:!1,deleteItem:!1,passDeleteID:""},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.toggleRefresh()}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,localStorage.getItem("isAdmin")&&l.a.createElement(y.a,{className:"justify-content-center"},l.a.createElement(A.a,{variant:"outline-dark",style:{marginBottom:"15px"},onClick:this.togglePop},"Add Report")),this.state.deleteItem&&l.a.createElement(Z,{toggleRefresh:this.toggleRefresh,collectionID:"reports",itemID:this.state.passDeleteID,toggleDeleteItem:this.closeDeleteItem}),!!this.state.popup&&l.a.createElement(ce,{toggleRefresh:this.toggleRefresh,togglePop:this.togglePop}),this.getData(),this.getReports())}}]),a}(n.Component),me=function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).handleClose=function(){e.props.toggleAddEvent(),e.setState({popup:!1})},e.handleChange=function(t){var a=t.target,n=a.name,l=a.value;e.setState(Object(L.a)({},n,l))},e.addReport=function(){g.a.post("https://kvhgeronimo.herokuapp.com/calendar/add",{link:e.state.link,name:e.state.name,isOpen:e.state.isOpen,text:e.state.text,army:e.state.army,soldiers:e.state.soldiers,date:e.state.date,place:e.state.place,mapLink:e.state.mapLink}).then((function(t){console.log(t.data),e.props.toggleRefresh()})).catch((function(e){return console.log(e.response)})),e.handleClose()},e.handleOnHide=function(){console.log("Use Button to hide.")},e.state={popup:!0,link:"",name:"",isOpen:!1,text:"",date:"",place:"",mapLink:"",soldiers:[],army:""},e}return Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement(P.a,{size:"lg",show:this.state.popup,onHide:this.handleOnHide},l.a.createElement(P.a.Header,{className:"justify-content-end"},l.a.createElement(A.a,{size:"sm",variant:"outline-secondary",onClick:this.handleClose},"X")),l.a.createElement(P.a.Body,{style:{whiteSpace:"pre-line"}},l.a.createElement(I.a,null,l.a.createElement("form",null,l.a.createElement("input",{style:{borderRadius:"10px",width:"100%",textAlign:"center",marginBottom:"15px"},onChange:this.handleChange,type:"text",name:"name",value:this.state.name,placeholder:"Header"}),l.a.createElement("input",{style:{borderRadius:"10px",width:"100%",textAlign:"center",marginBottom:"15px"},onChange:this.handleChange,type:"text",name:"date",value:this.state.date,placeholder:"Date of the Event"}),l.a.createElement("input",{style:{borderRadius:"10px",width:"100%",textAlign:"center",marginBottom:"15px"},onChange:this.handleChange,type:"text",name:"place",value:this.state.place,placeholder:"Place of the Event"}),l.a.createElement("input",{style:{borderRadius:"10px",width:"100%",textAlign:"center",marginBottom:"15px"},onChange:this.handleChange,type:"text",name:"mapLink",value:this.state.mapLink,placeholder:"Address (read below!)"}),l.a.createElement("p",{style:{textAlign:"center",fontSize:"90%",fontStyle:"italic"}},"(Address must be in following format: trnavske+myto+1,bratislava )"),l.a.createElement("p",{style:{textAlign:"center"}},"What uniform should we wear?",l.a.createElement("br",null),l.a.createElement("select",{value:this.state.army,onChange:this.handleChange,name:"army"},l.a.createElement("option",{value:"509"},"509th"),l.a.createElement("option",{value:"101"},"101st"),l.a.createElement("option",{value:"armored"},"Armored"),l.a.createElement("option",{value:"aclass"},"A-Class"),l.a.createElement("option",{value:"bclass"},"B-Class"),l.a.createElement("option",{value:"cclass"},"C-Class"))),l.a.createElement("textarea",{style:{borderRadius:"10px",width:"100%",height:"300px"},onChange:this.handleChange,name:"text",value:this.state.text,placeholder:"Start writing description..."}),l.a.createElement("input",{style:{borderRadius:"10px",width:"100%",textAlign:"center",marginBottom:"15px"},onChange:this.handleChange,type:"text",name:"link",value:this.state.link,placeholder:"Image Link"})),l.a.createElement(A.a,{variant:"dark",style:{width:"100%"},onClick:this.addReport},"Upload Event"))))}}]),a}(n.Component),ue=function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleClose=function(){n.props.closeItems(),n.setState({popup:!1})},n.showMissingItems=function(){var e=[];if(n.state.finalMissing[0]){var t,a=Object(d.a)(n.state.soldierInfo);try{for(a.s();!(t=a.n()).done;){var r,o=t.value,s=Object(d.a)(n.state.finalMissing);try{for(s.s();!(r=s.n()).done;){var i=r.value;if(o[0]===i[0]&&n.state.finalMissing[n.state.finalMissing.indexOf(i)+1].length>0){var c=n.state.finalMissing[n.state.finalMissing.indexOf(i)+1];e.push(l.a.createElement("span",{key:o[0]},l.a.createElement(y.a,null,l.a.createElement("h5",null,o[1]," ",o[2],", ",o[3])),l.a.createElement(y.a,{style:{marginBottom:"5px"},xs:2,md:2,lg:4,xl:5},c.map((function(e,t){return l.a.createElement("span",{key:t,style:{color:"#CC4240"}},e)})))))}}}catch(p){s.e(p)}finally{s.f()}}}catch(p){a.e(p)}finally{a.f()}}return e},n.state={popup:!0,soldierMissing:[],soldierInfo:[],equipData:[],finalMissing:[],refresh:!1},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){for(var e=this,t=this.props.soldierID.split(","),a=[],n=0;n<t.length;n+=3)a.push(t[n]);for(var l=function(){var t=o[r];g.a.get("https://kvhgeronimo.herokuapp.com/soldier/".concat(t)).then((function(a){var n=a.data.equip,l=[];for(var r in n)n[r]||l.push(r);e.state.soldierMissing.push(t,l),e.state.soldierInfo.push([a.data._id,a.data.rank,a.data.completeName,a.data.squad]),e.setState({refresh:!e.state.refresh})})).catch((function(e){console.log(e)}))},r=0,o=a;r<o.length;r++)l();g.a.get("https://kvhgeronimo.herokuapp.com/equipment").then((function(t){var a,n=Object(d.a)(e.state.soldierMissing);try{for(n.s();!(a=n.n()).done;){var l,r=a.value,o=[],s=Object(d.a)(t.data);try{for(s.s();!(l=s.n()).done;){var i=l.value;i.army.includes(e.props.army)&&r.includes(i.short)?o.push(i.name):isNaN(r)||o.includes(r)||o.push(r)}}catch(c){s.e(c)}finally{s.f()}e.state.finalMissing.push(o)}}catch(c){n.e(c)}finally{n.f()}e.setState({refresh:!e.state.refresh})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return l.a.createElement(P.a,{size:"xl",show:this.state.popup,onHide:this.handleClose},l.a.createElement(P.a.Header,{className:"justify-content-center"},l.a.createElement("h1",null,"Missing Items by Soldier")),l.a.createElement(P.a.Body,null,l.a.createElement(I.a,null,this.showMissingItems())))}}]),a}(n.Component),de=function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleClose=function(){n.props.closePop(),n.setState({popup:!1})},n.state={popup:!0,link:""},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.setState({link:"https://www.google.com/maps/embed/v1/place?key=AIzaSyCPCVFHmwpm0e8la38jOrQzYj9SxCJFxoM&q=".concat(this.props.mapLink,"&maptype=satellite")})}},{key:"render",value:function(){return l.a.createElement(P.a,{size:"lg",show:this.state.popup,onHide:this.handleClose},l.a.createElement(P.a.Body,null,l.a.createElement("iframe",{title:"map",width:"100%",height:"500px",frameBorder:"0",src:this.state.link})))}}]),a}(n.Component),he=a(36),ge=function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){n.setState({soldier:localStorage.getItem("id")}),n.props.calendarSoldiers.includes(localStorage.getItem("id"))?n.setState({button:"remove"}):n.setState({button:"add"})},n.handleChange=function(){console.log(n.state.button),g.a.get("https://kvhgeronimo.herokuapp.com/calendar/".concat(n.props.calendarID)).then((function(e){if(n.setState({recruits:e.data.soldiers}),n.state.recruits.includes(n.state.soldier)){var t=Object(he.a)(n.state.recruits);t.splice(t.indexOf(n.state.soldier),1),g.a.post("https://kvhgeronimo.herokuapp.com/calendar/update-soldiers/".concat(n.props.calendarID),{soldiers:t}).then((function(e){n.setState({button:"add"}),console.log(e.data),n.props.refresh()})).catch((function(e){console.log(e)}))}else{var a=[].concat(Object(he.a)(n.state.recruits),[n.state.soldier]);g.a.post("https://kvhgeronimo.herokuapp.com/calendar/update-soldiers/".concat(n.props.calendarID),{soldiers:a}).then((function(e){n.setState({button:"remove"}),console.log(e.data),n.props.refresh()})).catch((function(e){console.log(e)}))}})).catch((function(e){console.log(e)}))},n.state={soldier:"",refresh:!1,recruits:[],button:""},n}return Object(i.a)(a,[{key:"render",value:function(){return"add"===this.state.button?l.a.createElement(A.a,{variant:"outline-dark",onClick:this.handleChange},"Recruit me!"):l.a.createElement(A.a,{variant:"outline-dark",onClick:this.handleChange},"I'm a pussy...")}}]),a}(n.Component),fe=function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleChange=function(e){var t=e.target,a=t.name,l=t.value;n.setState(Object(L.a)({},a,l)),console.log(n.props.calendarID),g.a.get("https://kvhgeronimo.herokuapp.com/calendar/".concat(n.props.calendarID)).then((function(e){n.setState({recruits:e.data.soldiers});var t=[].concat(Object(he.a)(n.state.recruits),[l]);console.log(t),g.a.post("https://kvhgeronimo.herokuapp.com/calendar/update-soldiers/".concat(n.props.calendarID),{soldiers:t}).then((function(e){console.log(e.data),n.props.refresh(),n.setState(Object(L.a)({},a,""))})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))},n.getFormSelect=function(){var e,t=[l.a.createElement("option",{key:0,value:""})],a=Object(d.a)(n.props.soldierData);try{for(a.s();!(e=a.n()).done;){var r=e.value;n.props.calendarSoldiers.includes(r._id)||t.push(l.a.createElement("option",{key:r._id,value:r._id},r.nameFull))}}catch(o){a.e(o)}finally{a.f()}return t},n.state={soldier:"",refresh:!1,recruits:[]},n}return Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement("form",null,l.a.createElement("select",{value:this.state.soldier,onChange:this.handleChange,name:"soldier"},this.getFormSelect()))}}]),a}(n.Component),ve=function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleChange=function(e){var t=e.target,a=t.name,l=t.value;n.setState(Object(L.a)({},a,l)),console.log(n.props.calendarID),g.a.get("https://kvhgeronimo.herokuapp.com/calendar/".concat(n.props.calendarID)).then((function(e){n.setState({recruits:e.data.soldiers});var t=Object(he.a)(n.state.recruits);t.splice(t.indexOf(l),1),console.log(t),g.a.post("https://kvhgeronimo.herokuapp.com/calendar/update-soldiers/".concat(n.props.calendarID),{soldiers:t}).then((function(e){console.log(e.data),n.props.refresh(),n.setState(Object(L.a)({},a,""))})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))},n.getFormSelect=function(){var e,t=[l.a.createElement("option",{key:0,value:""})],a=Object(d.a)(n.props.soldierData);try{for(a.s();!(e=a.n()).done;){var r=e.value;n.props.calendarSoldiers.includes(r._id)&&t.push(l.a.createElement("option",{key:r._id,value:r._id},r.nameFull))}}catch(o){a.e(o)}finally{a.f()}return t},n.state={soldier:"",refresh:!1,recruits:[]},n}return Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement("form",null,l.a.createElement("select",{value:this.state.soldier,onChange:this.handleChange,name:"soldier"},this.getFormSelect()))}}]),a}(n.Component),Ee=function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).toggleRefresh=function(){g.a.get("https://kvhgeronimo.herokuapp.com/calendar/").then((function(t){e.setState({calendar:t.data.reverse()})})).catch((function(e){console.log(e)}))},e.togglePop=function(t){e.setState({popup:!e.state.popup,passMapLink:t.target.dataset.link})},e.closePop=function(){e.setState({popup:!e.state.popup,passMapLink:""})},e.openItems=function(t){e.setState({items:!e.state.items,passArmy:t.target.dataset.army,passSoldID:t.target.dataset.id})},e.closeItems=function(){e.setState({items:!e.state.items,passArmy:[],passSoldID:[]})},e.toggleAddEvent=function(){e.setState({addEvent:!e.state.addEvent})},e.toggleDeleteItem=function(t){e.setState({deleteItem:!e.state.deleteItem,passDeleteID:t.currentTarget.dataset.itemid})},e.closeDeleteItem=function(){e.setState({deleteItem:!e.state.deleteItem,passDeleteID:""})},e.handleClass=function(t){var a=t.target.dataset.key;e.setState({refresh:!e.state.refresh}),e.state.isOpen.splice(a,1,!e.state.isOpen[a]),e.state.isOpen[a]?e.state.handler.splice(a,1," ... "):e.state.handler.splice(a,1,"...")},e.getData=function(){var t,a=Object(d.a)(e.state.calendar);try{for(a.s();!(t=a.n()).done;){var n=t.value;e.state.isOpen.push(n.isOpen),e.state.handler.push("...")}}catch(l){a.e(l)}finally{a.f()}},e.getCalendar=function(){var t,a=[],n=[],r=[],o=0,s=Object(d.a)(e.state.calendar);try{var i=function(){var n,r=t.value,s=[],i=Object(d.a)(r.soldiers);try{var c=function(){var t=n.value;e.state.soldierData.filter((function(e){e._id===t&&s.push([t,e.rank,e.nameFull])}))};for(i.s();!(n=i.n()).done;)c()}catch(p){i.e(p)}finally{i.f()}a.push(l.a.createElement(S.a,{className:"block-background",key:o,style:{marginBottom:"15px",borderRadius:"5px"}},localStorage.getItem("isAdmin")&&l.a.createElement(A.a,{onClick:e.toggleDeleteItem,"data-itemid":r._id,size:"sm",variant:"outline-dark",style:{width:"100%",height:"20px"}},l.a.createElement("span",{style:{position:"relative",top:"-4px"}},"Delete")),l.a.createElement(S.a.Header,{style:{textAlign:"center",height:"350px"}},l.a.createElement(b.a,{style:{position:"absolute",top:"-41px"},src:"https://i.imgur.com/jawkXJV.png?3",fluid:!0}),l.a.createElement(b.a,{style:{height:"325px",width:"100%",objectFit:"cover",objectPosition:"center",borderRadius:"5px",border:"0.5px solid whitesmoke"},src:r.link,thumbnail:!0,fluid:!0})),l.a.createElement(S.a.Body,{style:{textAlign:"center"},className:e.state.isOpen[o]?e.state.fullCardClass:e.state.infoCardClass},l.a.createElement("h4",null,r.name),l.a.createElement("h5",null,"When: ",r.date),l.a.createElement("h5",{className:"para","data-link":r.mapLink,onClick:e.togglePop},"Where: ",r.place),l.a.createElement("h5",null,"Unit: ",isNaN(r.army)?r.army.toUpperCase():"1"===r.army[r.army.length-1]?"".concat(r.army,"st"):"2"===r.army[r.army.length-1]?"".concat(r.army,"nd"):"3"===r.army[r.army.length-1]?"".concat(r.army,"rd"):"".concat(r.army,"nd")),l.a.createElement("p",null,r.text),localStorage.getItem("isAdmin")&&l.a.createElement("span",null,"Add: ",l.a.createElement(fe,{refresh:e.toggleRefresh,calendarSoldiers:r.soldiers,soldierData:e.state.soldierData,calendarID:r._id}),r.soldiers.length>0&&l.a.createElement("span",null,"Remove: ",l.a.createElement(ve,{refresh:e.toggleRefresh,calendarSoldiers:r.soldiers,soldierData:e.state.soldierData,calendarID:r._id}))),l.a.createElement("p",{style:{marginTop:"15px"}},l.a.createElement(ge,{refresh:e.toggleRefresh,calendarSoldiers:r.soldiers,soldierData:e.state.soldierData,calendarID:r._id})),l.a.createElement("h5",null,"Recruited: "),l.a.createElement("p",null,function(){var e,t=[],a=Object(d.a)(s);try{for(a.s();!(e=a.n()).done;){var n=e.value;t.push(l.a.createElement("span",{key:n[0],style:{width:"45%",display:"inline-block",padding:"3px 8px 4px 8px",marginBottom:"5px",marginRight:"5px",border:"1px solid",borderRadius:"3px"}},n[1]," ",n[2]))}}catch(p){a.e(p)}finally{a.f()}return t}()),l.a.createElement(A.a,{onClick:e.openItems,"data-id":s,"data-army":r.army,variant:"outline-dark",style:{marginRight:"5px"}},"Show Missing Items")),l.a.createElement(S.a.Footer,{style:{textAlign:"center",height:"20px",fontSize:"180%"}},l.a.createElement("span",{"data-key":o,className:"pointer-on-hover card-footer-span",onClick:e.handleClass},e.state.handler[o])))),o++};for(s.s();!(t=s.n()).done;)i()}catch(p){s.e(p)}finally{s.f()}for(var c=0;c<a.length;c++)c%2!==0?r.push(a[c]):n.push(a[c]);return l.a.createElement(I.a,null,l.a.createElement(y.a,null,l.a.createElement(k.a,{lg:6},n),l.a.createElement(k.a,{lg:6},r)))},e.state={fullCardClass:"report-full",infoCardClass:"report-info",fadein:"fadein",fadeout:"fadeout",handler:[],calendar:[],isOpen:[],refresh:!0,popup:!1,addEvent:!1,soldierData:[],items:!1,passSoldID:[],passArmy:[],passMapLink:"",deleteItem:!1,passDeleteID:""},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.toggleRefresh(),g.a.get("https://kvhgeronimo.herokuapp.com/soldier/").then((function(t){e.setState({soldierData:t.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,localStorage.getItem("isAdmin")&&l.a.createElement(y.a,{className:"justify-content-center"},l.a.createElement(A.a,{variant:"outline-dark",style:{marginBottom:"15px"},onClick:this.toggleAddEvent},"Add Event")),this.state.deleteItem&&l.a.createElement(Z,{toggleRefresh:this.toggleRefresh,collectionID:"calendar",itemID:this.state.passDeleteID,toggleDeleteItem:this.closeDeleteItem}),!!this.state.addEvent&&l.a.createElement(me,{toggleRefresh:this.toggleRefresh,toggleAddEvent:this.toggleAddEvent}),!!this.state.popup&&l.a.createElement(de,{mapLink:this.state.passMapLink,closePop:this.closePop,togglePop:this.togglePop}),!!this.state.items&&l.a.createElement(ue,{army:this.state.passArmy,soldierID:this.state.passSoldID,closeItems:this.closeItems,openItems:this.openItems}),this.getData(),this.getCalendar())}}]),a}(n.Component),ye=function(){return l.a.createElement(I.a,null,l.a.createElement(y.a,null,l.a.createElement(k.a,{style:{margin:"30px 15px",textAlign:"center",borderTop:"1px solid #787671"}},l.a.createElement("br",null),l.a.createElement("span",{style:{color:"#555"}},l.a.createElement(N.b,{style:{width:"25px",height:"25px",top:"-3px",position:"relative"}}),"\xa0kvhgeronimo@gmail.com\xa0\xa0"),l.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:"https://www.instagram.com/kvh_geronimo/",className:"footer-link"},l.a.createElement(N.k,{style:{width:"25px",height:"25px",top:"-3px",position:"relative"}}),"\xa0kvh_geronimo\xa0\xa0"),l.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:"https://www.facebook.com/geronimo509thPIB",className:"footer-link"},l.a.createElement(N.c,{style:{width:"25px",height:"25px",top:"-3px",position:"relative"}}),"\xa0KVH Geronimo Reenactment Group\xa0\xa0"))))},ke=(a(118),function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).handleLogin=function(){e.setState({loggedOn:localStorage.getItem("logged")})},e.state={loggedOn:!1},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return l.a.createElement(m.a,null,l.a.createElement(R,null),l.a.createElement("br",null),l.a.createElement(u.a,{path:"/",exact:!0,component:D}),l.a.createElement(u.a,{path:"/platoon",exact:!0,component:ae}),l.a.createElement(u.a,{path:"/gallerycli",exact:!0,component:re}),l.a.createElement(u.a,{path:"/reportscli",exact:!0,component:pe}),l.a.createElement(u.a,{path:"/calendarcli",exact:!0,component:Ee}),l.a.createElement(u.a,{path:"/opengallery",exact:!0,component:ie}),l.a.createElement(u.a,{path:"/soldiers",exact:!0,component:M}),l.a.createElement(u.a,{path:"/user",exact:!0,component:K}),l.a.createElement(u.a,{path:"/login",render:function(t){return l.a.createElement(q,Object.assign({},t,{loggingOn:e.handleLogin}))}}),l.a.createElement(ye,null))}}]),a}(n.Component));o.a.render(l.a.createElement(ke,null),document.getElementById("root"))},84:function(e){e.exports=JSON.parse('{"buckle":false,"corcoran":false,"ankle":false,"service":false,"overshoes":false,"gaitors":false,"m42topreinf":false,"m42legreinf":false,"m42top":false,"m42leg":false,"m43topinf":false,"m43leginf":false,"m41topfield":false,"tankertop":false,"a2flight":false,"hbtoverall":false,"hbttop":false,"hbtleg":false,"m37topwool":false,"m37legwool":false,"m44legwool":false,"chinoshirt":false,"chinoleg":false,"aclasstop":false,"iketop":false,"aclassoff":false,"chocoshirt":false,"pinkleg":false,"tie":false,"oliveshorts":false,"509shirt":false,"oliveunder":false,"olivesockswool":false,"legbelt":false,"legsuspend":false,"sweat":false,"overcoat":false,"raincoat":false,"jeepcap":false,"mechacap":false,"m1plate":false,"liner":false,"net":false,"garcapoff":false,"garcapinf":false,"garcapengi":false,"garcaparmor":false,"garcapchino":false,"visorcap":false,"m1garand":false,"bayonet":false,"garandclips":false,"3006ammo":false,"m1923ammobelt":false,"bandolier":false,"thompson":false,"thompmags":false,"45acpammo":false,"thompmagbag":false,"5magpouchthomp":false,"m3grease":false,"m3mags":false,"m3magbag":false,"m1carabine":false,"m1carabinemags":false,"m1caramagpouch":false,"bar":false,"barmags":false,"barm1927belt":false,"m3assaknf":false,"trenchknife":false,"m6knfsheath":false,"m8knfsheath":false,"tl29jackknf":false,"usjackknf":false,"colt1911":false,"beltpistolpouch":false,"underpistolpouch":false,"rigger":false,"m36belt":false,"m36suspend":false,"m1910fieldbot":false,"cup":false,"bottlecover":false,"m1910shovel":false,"m43shovel":false,"gpammobag":false,"m36musette":false,"firstaid":false,"parafirstaid":false,"mapbag":false,"bzkammobag":false,"demobag":false,"rugwool":false,"sleepbagwwii":false,"sleepbagolive":false,"olivetowel":false,"campbed":false,"stretcher":false,"uscanteen":false,"cutlery":false,"shelthalf":false,"puptent":false,"poncho":false,"smwalltent":false,"101airborne":false,"82airborne":false,"9armored":false,"16armored":false,"1infdiv":false,"2infdiv":false,"3infdiv":false,"90infdiv":false,"ranger":false,"5army":false,"7army":false,"usflag":false,"509pibchest":false,"blueshute":false,"redshute":false,"shuteglider":false,"parabadge":false}')},85:function(e){e.exports=JSON.parse("{}")},87:function(e,t,a){e.exports=a(119)}},[[87,1,2]]]);
//# sourceMappingURL=main.4b5efd25.chunk.js.map