(this.webpackJsonpgeroproject=this.webpackJsonpgeroproject||[]).push([[0],{113:function(e,t,a){},114:function(e,t,a){"use strict";a.r(t);var n=a(1),l=a.n(n),r=a(26),o=a.n(r),s=a(7),i=a(8),c=a(10),p=a(9),u=a(46),d=a(30),m=(a(88),a(118)),h=a(12),g=a(6),f=a.n(g),E=a(124),v=function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).handleClick=function(t){localStorage.setItem("galleryID",t.target.dataset.galleryid),console.log(t.target.dataset.galleryid),e.props.history.push("opengallery")},e.getCarousel=function(){var t,a=[],n=Object(h.a)(e.state.galleries);try{for(n.s();!(t=n.n()).done;){var r=t.value;a.push(l.a.createElement(E.a.Item,{key:r._id,className:"carousel"},l.a.createElement("img",{className:"d-block w-100",alt:r._id,src:r.showLink}),l.a.createElement(E.a.Caption,{onClick:e.handleClick},l.a.createElement("h1",{className:"pointer-fade-on-hover","data-galleryid":r._id},r.name))))}}catch(o){n.e(o)}finally{n.f()}return a},e.state={galleries:[]},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;f.a.get("http://localhost:5000/gallery").then((function(t){e.setState({galleries:t.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return l.a.createElement(E.a,{style:{marginTop:"-24px"},interval:5e3,indicators:!1},this.getCarousel())}}]),a}(n.Component),y=Object(d.e)(v),b=a(116),k=a(77),x=a(117),O=function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).state={links:[],text:{}},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;f.a.get("http://localhost:5000/aboutUs/geronimo").then((function(t){e.setState({links:t.data.links,text:t.data.text})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return l.a.createElement(b.a,{style:{marginTop:"15px"}},l.a.createElement(k.a,null,l.a.createElement("h3",{style:{textAlign:"center"}},this.state.text.title),l.a.createElement(x.a,{className:"about-image",src:this.state.links[0],thumbnail:!0,fluid:!0}),l.a.createElement("p",null,this.state.text.para1),l.a.createElement("p",null,this.state.text.para2)))}}]),a}(n.Component),S=function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement(m.a,null,l.a.createElement(y,null),l.a.createElement(O,null))}}]),a}(n.Component),C=a(125),j=a(82),D=a(119);var I=function(){return l.a.createElement(m.a,null,l.a.createElement(C.a,{style:{borderRadius:"5px"},className:"block-background",variant:"light",bg:"light",expand:"lg"},l.a.createElement(C.a.Brand,{href:"/"},"KVH Geronimo"),l.a.createElement(C.a.Toggle,{"aria-controls":"basic-navbar-nav"}),l.a.createElement(C.a.Collapse,{id:"basic-navbar-nav"},l.a.createElement(j.a,{className:"mr-auto"},l.a.createElement(j.a.Link,{href:"/platoon"},"Platoon"),l.a.createElement(j.a.Link,{href:"/gallerycli"},"Gallery"),l.a.createElement(j.a.Link,{href:"/reportscli"},"Reports"),l.a.createElement(j.a.Link,{href:"/calendarcli"},"Calendar"))),l.a.createElement(C.a.Collapse,{className:"justify-content-end"},l.a.createElement(j.a,null,l.a.createElement(j.a.Link,{href:"/soldiers"},"Compare Equipment"),l.a.createElement(j.a.Link,{href:"/user"},localStorage.getItem("nameFull")),l.a.createElement(D.a,{href:"/",onClick:function(){localStorage.clear()},variant:"outline-dark"},"Sign Out")))))},w=a(16),A=a(36);var N=function(e){var t={maxHeight:"750px",overflowY:"auto",margin:"10px 0px",backgroundColor:"#f1f1f1",borderRadius:"15px"};return e.obj.length>8&&(t={maxHeight:"500px",overflowY:"auto",margin:"10px 0px",backgroundColor:"#f1f1f1",borderRadius:"15px"}),e.obj.map((function(a,n){var r="undefined",o="undefined";return a.constructor===Array&&l.a.createElement(k.a,{className:"block-background",md:6,lg:3,style:t,key:n},a.map((function(t,a){return!t.army[0].includes(e.armyType,"universal")&&"all"!==e.armyType||(o!==t.sold?(o=t.sold,r=t.type,l.a.createElement("span",{key:a},l.a.createElement("h2",null,t.sold,l.a.createElement(D.a,{size:"sm",variant:"light",style:{margin:"0px 0px 30px 3px",padding:"0px 5px"},"data-pass":t.soldShort,onClick:e.updateSoldier},"X")),l.a.createElement("h3",null,t.type),l.a.createElement("p",{className:"para","data-header":t.name,"data-short":t.short,onClick:e.togglePop},t.name),t.val&&l.a.createElement(A.a,{className:"float-right btn-check"}),l.a.createElement("br",null))):r!==t.type?(r=t.type,l.a.createElement("span",{key:a},l.a.createElement("h3",null,t.type),l.a.createElement("p",{className:"para","data-header":t.name,"data-short":t.short,onClick:e.togglePop},t.name),t.val&&l.a.createElement(A.a,{className:"float-right btn-check"}),l.a.createElement("br",null))):l.a.createElement("span",{key:a},l.a.createElement("p",{className:"para","data-header":t.name,"data-short":t.short,onClick:e.togglePop},t.name),t.val&&l.a.createElement(A.a,{className:"float-right btn-check"}),l.a.createElement("br",null)))})))}))},R=a(122),P=function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).handleClose=function(){e.props.fadePop(),e.setState({popup:!1})},e.ShowSellers=function(){return e.getItems(e.state.itemLinks).map((function(e,t){return l.a.createElement(k.a,{key:t},l.a.createElement(D.a,{target:"_blank",style:{fontSize:20},variant:"light",href:e[1]},e[0]))}))},e.getItems=function(e){var t=[];for(var a in e)e.hasOwnProperty(a)&&t.push([a,e[a]]);return t},e.state={popup:!0,itemImage:null,itemLinks:{},missingImageError:!1},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;f.a.get("http://localhost:5000/equipInfo/".concat(this.props.item[1])).then((function(t){e.setState({itemImage:t.data.image,itemLinks:t.data.links})})).catch((function(t){t.toString().includes("Cannot read property")?e.setState({missingImageError:!0}):console.log(t)}))}},{key:"componentWillUnmount",value:function(){this.setState({itemImage:null,itemId:null})}},{key:"render",value:function(){return l.a.createElement(R.a,{show:this.state.popup,onHide:this.handleClose},l.a.createElement(R.a.Header,null,l.a.createElement(R.a.Title,null,this.props.item[0])),l.a.createElement(R.a.Body,null,l.a.createElement(m.a,null,l.a.createElement(b.a,{className:"show-grid"},l.a.createElement(k.a,{md:6},this.state.missingImageError?l.a.createElement(x.a,{src:"https://cdn2.vectorstock.com/i/thumb-large/47/66/\r\nww2-soldier-warriors-theme-vector-2674766.jpg",fluid:!0}):l.a.createElement(x.a,{src:this.state.itemImage,fluid:!0})),l.a.createElement(k.a,{md:6},"Toto je popisok k obrazku a tento popisok este nieje napisany do databazy takze tu je zatial len tato jedna veta ako placeholder.")),l.a.createElement("br",null),l.a.createElement("h5",null,"Recommended Models:"),l.a.createElement(b.a,null,l.a.createElement(this.ShowSellers,null)))))}}]),a}(n.Component),L=function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).getUpdate=function(){f.a.get("http://localhost:5000/soldier").then((function(e){n.setState({soldiers:e.data})})).catch((function(e){console.log(e)}))},n.togglePop=function(e){var t=e.currentTarget.dataset.header,a=e.currentTarget.dataset.short;n.setState({popup:!n.state.popup,soldier:"",actualItem:[t,a]})},n.fadePop=function(){n.setState({popup:!n.state.popup})},n.updateSoldier=function(e){var t=e.currentTarget.dataset.pass;n.state.moreSoldiers.splice(n.state.moreSoldiers.indexOf(t),2);var a=n.state.moreSoldiers;n.setState({moreSoldiers:a,soldier:"remove"})},n.handleChange=function(e){var t,a=e.target,l=a.name,r=a.value,o=a.type,s=a.checked;"checkbox"===o?n.setState(Object(w.a)({},l,s)):n.setState((t={},Object(w.a)(t,l,r),Object(w.a)(t,"joinData",[]),t))},n.state={army:"all",soldier:localStorage.getItem("username"),isChecked:!1,soldierName:[],soldiers:[],equipment:[],joinData:[],moreSoldiers:[],popup:!1,actualItem:[]},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;f.a.get("http://localhost:5000/equipment").then((function(t){e.setState({equipment:t.data})})).catch((function(e){console.log(e)})),f.a.get("http://localhost:5000/soldier").then((function(t){e.setState({soldiers:t.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this.state.equipment,t=this.state.soldier,a=this.state.soldiers,n=this.state.joinData,r=this.state.soldierName,o=this.state.moreSoldiers;return l.a.createElement(m.a,null,void a.map((function(a){var l=function(e){var t=[];for(var a in e)e.hasOwnProperty(a)&&t.push([a,e[a]]);return t}(a.equip);return a.name===t&&(!r.includes(a.name)&&r.push(a.name,a.nameFull),l.map((function(t){return e.map((function(e){return e.short===t[0]&&n.push({type:e.type,name:e.name,army:[e.army],short:t[0],val:t[1],sold:a.nameFull,soldShort:a.name,id:a._id})}))})),!o.includes(a.name)&&o.push(a.name,n))})),l.a.createElement(b.a,null,l.a.createElement(k.a,{sm:3},l.a.createElement("form",null,l.a.createElement("select",{value:this.state.soldier,onChange:this.handleChange,name:"soldier"},l.a.createElement("option",{value:""}),l.a.createElement("option",{value:"johnfdavis"},"John F. Davis"),l.a.createElement("option",{value:"matthewoconnor"},"Matthew O' Connor"),l.a.createElement("option",{value:"peterjnash"},"Peter J. Nash"),l.a.createElement("option",{value:"lucaswurfl"},"Lucas Wurfl"),l.a.createElement("option",{value:"thomasjholes"},"Thomas J. Holes")))),l.a.createElement(k.a,{sm:2},l.a.createElement("form",null,l.a.createElement("select",{value:this.state.army,onChange:this.handleChange,name:"army"},l.a.createElement("option",{value:"all"},"Complete"),l.a.createElement("option",{value:"509"},"509th"),l.a.createElement("option",{value:"101"},"101st"),l.a.createElement("option",{value:"armored"},"Armored"),l.a.createElement("option",{value:"aclass"},"A-Class"),l.a.createElement("option",{value:"bclass"},"B-Class"),l.a.createElement("option",{value:"cclass"},"C-Class"))))),l.a.createElement("br",null),this.state.popup?l.a.createElement(P,{item:this.state.actualItem,popup:this.state.popup,fadePop:this.fadePop}):null,l.a.createElement(m.a,null,l.a.createElement(b.a,null,l.a.createElement(N,{armyType:this.state.army,obj:o,updateSoldier:this.updateSoldier,togglePop:this.togglePop}))))}}]),a}(n.Component),M=a(123),B=function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).handleChange=function(t){var a=t.target,n=a.name,l=a.value,r=a.type,o=a.checked;"checkbox"===r?e.setState(Object(w.a)({},n,o)):e.setState(Object(w.a)({},n,l))},e.handleSubmit=function(){f.a.get("http://localhost:5000/soldier/".concat(e.state.password)).then((function(t){t.data.name===e.state.username&&t.data.password===e.state.password?(console.log("Logged In"),localStorage.setItem("logged",!0),localStorage.setItem("username",e.state.username),localStorage.setItem("id",t.data._id),localStorage.setItem("nameFull",t.data.nameFull),t.data.isAdmin&&localStorage.setItem("isAdmin",!0),e.props.loggingOn()):console.log("Wrong username or password",t.data.name,t.data.password)})).catch((function(e){console.log(e)}))},e.state={username:"",password:""},e}return Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement(m.a,{style:{position:"absolute",maxWidth:"350px",left:"50%",top:"50%",transform:"translate(-50%, -50%)"}},l.a.createElement(x.a,{style:{position:"relative",maxWidth:"350px",left:"50%",transform:"translate(-50%, -10%)"},src:"https://www.509thgeronimo.org/images/509pibblack.jpg",fluid:!0}),l.a.createElement(M.a,{className:"text-center"},l.a.createElement(M.a.Group,null,l.a.createElement(M.a.Label,null,"Username"),l.a.createElement(M.a.Control,{type:"text",placeholder:"Enter username",className:"text-center",name:"username",value:this.state.username,onChange:this.handleChange})),l.a.createElement(M.a.Group,null,l.a.createElement(M.a.Label,null,"Password"),l.a.createElement(M.a.Control,{type:"password",placeholder:"Password",className:"text-center",name:"password",value:this.state.password,onChange:this.handleChange})),l.a.createElement(D.a,{variant:"dark",onClick:this.handleSubmit},"Log In")))}}]),a}(n.Component),q=a(81);var H=function(e){var t=Object(n.useState)("all"),a=Object(q.a)(t,2),r=a[0],o=a[1],s=e.equip,i=e.soldier,c=function(e){f.a.get("http://localhost:5000/soldier/".concat(localStorage.getItem("id"))).then((function(t){var a=t.data.equip;for(var n in a)if(n===e){a[n]=!a[n];var l=a;f.a.post("http://localhost:5000/soldier/update/".concat(localStorage.getItem("id")),{equip:l}).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)}))}})).catch((function(e){console.log(e)}))},p=s.map((function(t){for(var a in i)if(a===t.short)return[t.type,t.name,t.short,e.soldier[a],t.army];return!0})),u=[],d=[];return l.a.createElement(m.a,null,l.a.createElement("form",null,l.a.createElement("select",{value:r,onChange:function(e){var t=e.target.value;o(t)},name:"army"},l.a.createElement("option",{value:"all"},"Complete"),l.a.createElement("option",{value:"509"},"509th"),l.a.createElement("option",{value:"101"},"101st"),l.a.createElement("option",{value:"armored"},"Armored"),l.a.createElement("option",{value:"aclass"},"A-Class"),l.a.createElement("option",{value:"bclass"},"B-Class"),l.a.createElement("option",{value:"cclass"},"C-Class"))),l.a.createElement("br",null),function(){var t,a=[],n=Object(h.a)(p);try{for(n.s();!(t=n.n()).done;){var o=t.value;a.includes(o[0])||a.push(o[0])}}catch(y){n.e(y)}finally{n.f()}r.includes("class")?(a.splice(a.indexOf("CampEquip"),1),a.splice(a.indexOf("ArmsEquip"),1)):r.includes("all")||a.splice(a.indexOf("CampEquip"),1);for(var s=0,i=a;s<i.length;s++){var g=i[s];u.push(g);var f,E=Object(h.a)(p);try{var v=function(){var t=f.value;t[0]!==g||!t[4].includes(r,"universal")&&"all"!==r||u.push(l.a.createElement("span",{key:t[2],onClick:e.refresh},l.a.createElement("p",{lg:8,className:"para","data-header":t[1],"data-short":t[2],onClick:e.togglePop},t[1]),t[3]?l.a.createElement(A.b,{className:"btn-smaller",onClick:function(){return c(t[2])}}):l.a.createElement(A.c,{className:"btn-smaller",onClick:function(){return c(t[2])}}),l.a.createElement("br",null)))};for(E.s();!(f=E.n()).done;)v()}catch(y){E.e(y)}finally{E.f()}d.push(l.a.createElement("span",{key:g},l.a.createElement("h3",null,u.splice(0,1)),l.a.createElement(m.a,null,l.a.createElement(b.a,{xl:4,md:3,sm:2,xs:1},u)))),u=[]}return d}())},z=function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).cancelEdit=function(){n.setState({edit:!n.state.edit})},n.setEdit=function(){n.setState({edit:!n.state.edit}),n.state.edit&&f.a.post("http://localhost:5000/soldier/update-story/".concat(localStorage.getItem("id")),{story:n.state.myStory}).then((function(e){console.log(e.data)})).catch((function(e){return console.log(e.response)}))},n.handleChange=function(e){var t=e.target,a=t.name,l=t.value;n.setState(Object(w.a)({},a,l))},n.getSoldierInfo=function(){return l.a.createElement(l.a.Fragment,null,!!n.props.soldierData.completeName&&l.a.createElement("p",{style:{fontSize:"150%"}},n.props.soldierData.rank," ",n.props.soldierData.completeName),!!n.props.soldierData.func&&l.a.createElement("p",{style:{fontSize:"125%",marginTop:"-15px"}},n.props.soldierData.squad,", ",n.props.soldierData.func),!!n.props.soldierData._id&&l.a.createElement("p",{style:{fontSize:"105%",marginTop:"-15px"}},n.props.soldierData._id),!!n.props.soldierData.birth&&l.a.createElement("p",null,"Date of Birth: ",n.props.soldierData.birth),!!n.props.soldierData.state&&l.a.createElement("p",null,"State: ",n.props.soldierData.state),!!n.props.soldierData.height&&l.a.createElement("p",null,"Height:  ",n.props.soldierData.height," ft., Weight: ",n.props.soldierData.weight," lbs."),!!n.props.soldierData.hair&&l.a.createElement("p",null,"Hair: ",n.props.soldierData.hair,", Eyes: ",n.props.soldierData.eyes))},n.state={edit:!1,myStory:""},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;f.a.get("http://localhost:5000/soldier/".concat(localStorage.getItem("id"))).then((function(t){e.setState({myStory:t.data.story})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return l.a.createElement(m.a,{style:{marginTop:"-24px",borderRadius:"5px"}},l.a.createElement(b.a,{style:{paddingTop:"25px"}},l.a.createElement(k.a,{lg:{span:4,offset:2},sm:6,style:{textAlign:"center"}},l.a.createElement(x.a,{style:{marginBottom:"25px"},src:this.props.soldierData.imageURL?this.props.soldierData.imageURL:"https://i.ibb.co/RYtTKY1/emptypicture.jpg",thumbnail:!0,fluid:!0})),l.a.createElement(k.a,{lg:4,sm:6,style:{textAlign:"center"}},this.getSoldierInfo())),l.a.createElement(b.a,null,l.a.createElement(k.a,{md:10,style:{textAlign:"right"}},this.state.edit?l.a.createElement(l.a.Fragment,null,l.a.createElement(D.a,{className:"edit-story",variant:"outline-light",onClick:this.setEdit},"Save"),l.a.createElement(D.a,{className:"edit-story",variant:"outline-light",onClick:this.cancelEdit},"Cancel")):l.a.createElement(D.a,{className:"edit-story",variant:"outline-light",onClick:this.setEdit},"Edit Story"))),l.a.createElement(b.a,null,l.a.createElement(k.a,{style:{whiteSpace:"pre-line",marginBottom:"75px"},sm:{span:10,offset:1},md:{span:8,offset:2}},l.a.createElement("h4",{style:{textAlign:"center"}},"My Story"),this.state.edit?l.a.createElement("textarea",{onChange:this.handleChange,name:"myStory",value:this.state.myStory,style:{borderRadius:"10px",width:"105%",height:"300%"}}):this.state.myStory)))}}]),a}(n.Component),F=a(120),T=a(121),_=function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).refreshProps=function(){f.a.get("http://localhost:5000/soldier/".concat(localStorage.getItem("id"))).then((function(t){e.setState({soldier:t.data.equip}),f.a.get("http://localhost:5000/soldier/".concat(localStorage.getItem("id"))).then((function(t){e.setState({soldier:t.data.equip})}))}))},e.togglePop=function(t){var a=t.target.dataset.header,n=t.target.dataset.short;e.setState({popup:!e.state.popup,actualItem:[a,n]})},e.fadePop=function(){e.setState({popup:!e.state.popup})},e.removeAdmin=function(){localStorage.removeItem("isAdmin"),e.setState({toggleRefresh:!e.state.toggleRefresh})},e.addAdmin=function(){localStorage.setItem("isAdmin",!0),e.setState({toggleRefresh:!e.state.toggleRefresh})},e.state={equipment:[],soldier:{},popup:!1,actualItem:[],toggleRefresh:!1,soldierData:{}},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;f.a.get("http://localhost:5000/equipment").then((function(t){e.setState({equipment:t.data})})).catch((function(e){console.log(e)})),f.a.get("http://localhost:5000/soldier/".concat(localStorage.getItem("id"))).then((function(t){e.setState({soldier:t.data.equip,soldierData:t.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return l.a.createElement(m.a,null,console.log(this.state.soldierData.isAdmin),this.state.popup?l.a.createElement(P,{item:this.state.actualItem,popup:this.state.popup,fadePop:this.fadePop}):null,this.state.soldierData.isAdmin&&(localStorage.getItem("isAdmin")?l.a.createElement(D.a,{style:{position:"relative",float:"right"},onClick:this.removeAdmin,variant:"outline-dark"},"Admin Mode: ON"):l.a.createElement(D.a,{style:{position:"relative",float:"right"},onClick:this.addAdmin,variant:"outline-dark"},"Admin Mode: OFF")),l.a.createElement(F.a,{className:"color-tab",defaultActiveKey:"profile"},l.a.createElement(T.a,{className:"soldier-background",eventKey:"profile",title:"Profile"},l.a.createElement("br",null),l.a.createElement(z,{refresh:this.refreshProps,soldierData:this.state.soldierData})),l.a.createElement(T.a,{className:"soldier-background",eventKey:"itemList",title:"List of Items"},l.a.createElement("br",null),l.a.createElement(H,{refresh:this.refreshProps,togglePop:this.togglePop,equip:this.state.equipment,soldier:this.state.soldier}))))}}]),a}(n.Component),U=function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).getSoldierInfo=function(){return l.a.createElement(l.a.Fragment,null,!!n.props.soldierData.completeName&&l.a.createElement("p",{style:{fontSize:"150%"}},n.props.soldierData.rank," ",n.props.soldierData.completeName),!!n.props.soldierData.func&&l.a.createElement("p",{style:{fontSize:"125%",marginTop:"-15px"}},n.props.soldierData.squad,", ",n.props.soldierData.func),!!n.props.soldierData._id&&l.a.createElement("p",{style:{fontSize:"105%",marginTop:"-15px"}},n.props.soldierData._id),!!n.props.soldierData.birth&&l.a.createElement("p",null,"Date of Birth: ",n.props.soldierData.birth),!!n.props.soldierData.state&&l.a.createElement("p",null,"State: ",n.props.soldierData.state),!!n.props.soldierData.height&&l.a.createElement("p",null,"Height:  ",n.props.soldierData.height," ft., Weight: ",n.props.soldierData.weight," lbs."),!!n.props.soldierData.hair&&l.a.createElement("p",null,"Hair: ",n.props.soldierData.hair,", Eyes: ",n.props.soldierData.eyes))},n.state={myStory:""},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;f.a.get("http://localhost:5000/soldier/".concat(this.props.soldierID)).then((function(t){e.setState({myStory:t.data.story})})).catch((function(t){e.props.close(),console.log(t)}))}},{key:"render",value:function(){return l.a.createElement(m.a,null,l.a.createElement(b.a,null,l.a.createElement(k.a,{lg:{span:4,offset:2},style:{textAlign:"center"}},l.a.createElement(x.a,{style:{marginTop:"40px"},src:this.props.soldierData.imageURL?this.props.soldierData.imageURL:"https://i.ibb.co/RYtTKY1/emptypicture.jpg",thumbnail:!0,fluid:!0})),l.a.createElement(k.a,{lg:4,style:{textAlign:"center"}},this.getSoldierInfo())),!!this.state.myStory&&l.a.createElement(b.a,null,l.a.createElement(k.a,{style:{whiteSpace:"pre-line"},sm:{span:10,offset:1},md:{span:8,offset:2}},l.a.createElement("h4",{style:{textAlign:"center"}},"My Story"),this.state.myStory)))}}]),a}(n.Component),W=function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleClose=function(){n.props.fadePop(),n.setState({popup:!1,soldierData:{}})},n.state={popup:!0,soldierData:{}},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;f.a.get("http://localhost:5000/soldier/".concat(this.props.soldierID)).then((function(t){e.setState({soldierData:t.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return l.a.createElement(R.a,{size:"lg",show:this.state.popup,onHide:this.handleClose},l.a.createElement(R.a.Body,{className:"soldier-background"},this.state.soldierData&&l.a.createElement(U,{close:this.handleClose,soldierID:this.props.soldierID,soldierData:this.state.soldierData})))}}]),a}(n.Component),Y=function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).handleClick=function(t){e.setState({soldierID:t.currentTarget.dataset.id}),e.togglePop()},e.togglePop=function(){e.setState({popup:!e.state.popup})},e.fadePop=function(){e.setState({popup:!e.state.popup})},e.getSoldiers=function(){var t=["HQ"],a=[],n=[];for(var r in e.state.soldierData){var o=e.state.soldierData[r];t.includes(o.squad)||t.push(o.squad)}for(var s=0,i=t;s<i.length;s++){var c=i[s];for(var p in a.push(c),e.state.soldierData){var u=e.state.soldierData[p];u.squad===c&&a.push(l.a.createElement("span",{key:u._id},l.a.createElement(b.a,null,l.a.createElement(k.a,{xs:4},l.a.createElement(x.a,{src:u.imageURL?u.imageURL:"https://i.ibb.co/RYtTKY1/emptypicture.jpg",roundedCircle:!0,fluid:!0})),l.a.createElement(k.a,{className:"para",onClick:e.handleClick,"data-id":u._id,xs:8},u.completeName,l.a.createElement("br",null),u.func)),l.a.createElement("br",null)))}var d,g=Object(h.a)(a);try{for(g.s();!(d=g.n()).done;){var f=d.value,E=a.indexOf(f);f.ref&&f.ref.includes("Squad Leader")&&(a.splice(E,1),a.splice(1,0,f)),f.ref&&(f.ref.includes("2nd")||f.ref.includes("Assi"))&&(a.splice(E,1),a.splice(2,0,f))}}catch(v){g.e(v)}finally{g.f()}n.push(l.a.createElement(m.a,{className:"block-background",style:{borderRadius:"5px",marginBottom:"15px"},key:t.indexOf(c)},l.a.createElement("h3",null,a.splice(0,1)),l.a.createElement(b.a,{xl:4,md:3,sm:2,xs:1},a))),a=[]}return n},e.state={popup:!1,soldierID:"",soldierData:{}},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;f.a.get("http://localhost:5000/soldier/").then((function(t){e.setState({soldierData:t.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return l.a.createElement(m.a,null,this.getSoldiers(),this.state.popup?l.a.createElement(W,{popup:this.state.popup,fadePop:this.fadePop,soldierID:this.state.soldierID}):null)}}]),a}(n.Component),G=a(126),J=function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).handleClick=function(t){localStorage.setItem("galleryID",t._id),e.props.history.push("opengallery")},e.getGallery=function(){var t,a=[],n=[],r=[],o=0,s=Object(h.a)(e.state.galleries);try{var i=function(){var s=t.value;a=[];var i,c=Object(h.a)(s.links);try{for(c.s();!(i=c.n()).done;){var p=i.value;s.links.indexOf(p)%4===0&&0!==s.links.indexOf(p)?(n.push(l.a.createElement(E.a.Item,{key:s.links.indexOf(p)},a)),a=[]):s.links.indexOf(p)===s.links.length-1&&(a.push(l.a.createElement(x.a,{key:s.links.indexOf(p),style:{objectFit:"cover",height:"150px"},className:"w-25",alt:"geronimo",src:p})),n.push(l.a.createElement(E.a.Item,{key:s.links.indexOf(p)},a)),a=[]),a.push(l.a.createElement(x.a,{key:s.links.indexOf(p),style:{objectFit:"cover",height:"150px"},className:"w-25",alt:"geronimo",src:p}))}}catch(u){c.e(u)}finally{c.f()}r.push(l.a.createElement(G.a,{key:o,className:"block-background",style:{marginBottom:"15px",borderRadius:"5px"}},l.a.createElement(G.a.Header,null,l.a.createElement("h5",{style:{textAlign:"center"}},s.name),l.a.createElement(E.a,{style:{border:"3px solid whitesmoke",borderRadius:"5px"},onClick:function(){return e.handleClick(s)},className:"pointer-on-hover",interval:5e3,controls:!1,indicators:!1,pause:!1},n)),l.a.createElement(G.a.Body,null,l.a.createElement("p",null,s.about)))),n=[],o++};for(s.s();!(t=s.n()).done;)i()}catch(c){s.e(c)}finally{s.f()}return r},e.state={galleries:[]},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;f.a.get("http://localhost:5000/gallery/").then((function(t){e.setState({galleries:t.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return l.a.createElement(m.a,null,this.getGallery())}}]),a}(n.Component),K=Object(d.e)(J),X=a(61),V=function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleClose=function(){n.props.togglePop(),n.setState({popup:!1})},n.handleControls=function(){n.setState({controls:!n.state.controls})},n.nextImage=function(){var e=n.props.galleries.indexOf(n.state.newImage);e===n.props.galleries.length-1?n.setState({newImage:n.props.galleries[0]}):n.setState({newImage:n.props.galleries[e+1]})},n.prevImage=function(){var e=n.props.galleries.indexOf(n.state.newImage);e?n.setState({newImage:n.props.galleries[e-1]}):n.setState({newImage:n.props.galleries[n.props.galleries.length-1]})},n.state={popup:!0,controls:!1,newImage:n.props.actualImage},n}return Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement(R.a,{size:"lg",show:this.state.popup,onHide:this.handleClose},l.a.createElement(R.a.Body,{className:"block-background",onMouseEnter:this.handleControls,onMouseLeave:this.handleControls},this.state.controls&&l.a.createElement(X.a,{onClick:this.prevImage,className:"leftArrow"}),this.state.controls&&l.a.createElement(X.b,{onClick:this.nextImage,className:"rightArrow"}),l.a.createElement(x.a,{src:this.state.newImage,alt:this.props.actualImage,fluid:!0})))}}]),a}(n.Component),Q=function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).togglePop=function(t){e.setState({popup:!e.state.popup,actualImage:t})},e.showGrid=function(){var t,a=[],n=Object(h.a)(e.state.galleries);try{var r=function(){var n=t.value;a.push(l.a.createElement(k.a,{onClick:function(){return e.togglePop(n)},key:n,className:"gallery",lg:3,md:4,sm:6},l.a.createElement(x.a,{className:"img",src:n,alt:n,thumbnail:!0})))};for(n.s();!(t=n.n()).done;)r()}catch(o){n.e(o)}finally{n.f()}return a},e.state={galleries:[],popup:!1,actualImage:""},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;f.a.get("http://localhost:5000/gallery/".concat(localStorage.getItem("galleryID"))).then((function(t){e.setState({galleries:t.data.links})})).catch((function(e){console.log(e)}))}},{key:"componentWillUnmount",value:function(){localStorage.removeItem("galleryID")}},{key:"render",value:function(){return l.a.createElement(m.a,null,!!this.state.popup&&l.a.createElement(V,{galleries:this.state.galleries,actualImage:this.state.actualImage,togglePop:this.togglePop}),l.a.createElement(b.a,null,this.showGrid()))}}]),a}(n.Component),Z=function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).handleClose=function(){e.props.togglePop(),e.setState({popup:!1})},e.handleChange=function(t){var a=t.target,n=a.name,l=a.value;e.setState(Object(w.a)({},n,l))},e.addReport=function(){f.a.post("http://localhost:5000/reports/add",{links:e.state.links,name:e.state.name,isOpen:e.state.isOpen,text:e.state.text}).then((function(t){console.log(t.data),e.props.toggleRefresh()})).catch((function(e){return console.log(e.response)})),e.handleClose()},e.addLink=function(){e.state.links.push(e.state.actualLink),e.setState({actualLink:""})},e.showLinks=function(){var t,a=0,n=[],r=Object(h.a)(e.state.links);try{for(r.s();!(t=r.n()).done;){var o=t.value;a++,n.push(l.a.createElement("span",{key:e.state.links.indexOf(o)},l.a.createElement("strong",null,a,".\xa0"),o,"\xa0"))}}catch(s){r.e(s)}finally{r.f()}return n},e.handleOnHide=function(){console.log("Use Button to hide.")},e.state={popup:!0,links:[],actualLink:"",name:"",isOpen:!1,text:""},e}return Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement(R.a,{size:"lg",show:this.state.popup,onHide:this.handleOnHide},l.a.createElement(R.a.Header,{className:"justify-content-end"},l.a.createElement(D.a,{size:"sm",variant:"outline-secondary",onClick:this.handleClose},"X")),l.a.createElement(R.a.Body,{style:{whiteSpace:"pre-line"}},l.a.createElement(m.a,null,l.a.createElement("form",null,l.a.createElement("input",{style:{borderRadius:"10px",width:"100%",textAlign:"center",marginBottom:"15px"},onChange:this.handleChange,type:"text",name:"name",value:this.state.name,placeholder:"Header"}),l.a.createElement("textarea",{style:{borderRadius:"10px",width:"100%",height:"300px"},onChange:this.handleChange,name:"text",value:this.state.text,placeholder:"Start writing..."}),l.a.createElement("br",null),l.a.createElement("input",{style:{borderRadius:"10px",width:"50%",textAlign:"center",marginBottom:"15px"},onChange:this.handleChange,type:"text",name:"actualLink",value:this.state.actualLink,placeholder:"Direct Link to Image"}),l.a.createElement(D.a,{variant:"outline-dark",style:{top:"10px"},size:"sm",onClick:this.addLink},"Add Link"),l.a.createElement("p",null,this.showLinks())),l.a.createElement(D.a,{variant:"dark",style:{width:"100%"},onClick:this.addReport},"Upload Post"))))}}]),a}(n.Component),$=function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleDelete=function(){f.a.delete("http://localhost:5000/".concat(n.props.collectionID,"/").concat(n.props.itemID)).then((function(e){console.log(e.data),n.props.toggleRefresh()})).catch((function(e){console.log(e)})),n.handleClose()},n.handleClose=function(){n.props.toggleDeleteItem(),n.setState({popup:!1})},n.state={popup:!0},n}return Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement(R.a,{show:this.state.popup,onHide:this.handleClose},console.log(this.props.collectionID,this.props.itemID),l.a.createElement(R.a.Body,{style:{textAlign:"center"}},l.a.createElement("p",null,"Are you sure you want to delete this item?"),l.a.createElement("p",null,l.a.createElement(D.a,{onClick:this.handleDelete,variant:"outline-dark"},"Yes"),l.a.createElement(D.a,{variant:"outline-dark",onClick:this.handleClose},"No"))))}}]),a}(n.Component),ee=function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).toggleRefresh=function(){f.a.get("http://localhost:5000/reports/").then((function(t){e.setState({reports:t.data}),console.log("refreshed")})).catch((function(e){console.log(e)}))},e.togglePop=function(){e.setState({popup:!e.state.popup})},e.toggleDeleteItem=function(t){e.setState({deleteItem:!e.state.deleteItem,passDeleteID:t.currentTarget.dataset.itemid})},e.closeDeleteItem=function(){e.setState({deleteItem:!e.state.deleteItem,passDeleteID:""})},e.handleClass=function(t){var a=t.target.dataset.key;e.setState({refresh:!e.state.refresh}),e.state.isOpen.splice(a,1,!e.state.isOpen[a]),e.state.isOpen[a]?e.state.handler.splice(a,1," ... "):e.state.handler.splice(a,1,"...")},e.getData=function(){var t,a=Object(h.a)(e.state.reports);try{for(a.s();!(t=a.n()).done;){var n=t.value;e.state.isOpen.push(n.isOpen),e.state.handler.push("...")}}catch(l){a.e(l)}finally{a.f()}},e.getReports=function(){var t,a=[],n=[],r=[],o=0,s=Object(h.a)(e.state.reports);try{for(s.s();!(t=s.n()).done;){var i,c=t.value,p=[],u=Object(h.a)(c.links);try{for(u.s();!(i=u.n()).done;){var d=i.value;p.push(l.a.createElement(E.a.Item,{key:d},l.a.createElement("img",{style:{maxHeight:"350px",width:"auto",objectFit:"cover",objectPosition:"center",borderRadius:"5px",border:"4px solid whitesmoke"},className:"d-block w-100",alt:d,src:d})))}}catch(f){u.e(f)}finally{u.f()}a.push(l.a.createElement(G.a,{className:"block-background",key:o,style:{marginBottom:"15px",borderRadius:"5px"}},localStorage.getItem("isAdmin")&&l.a.createElement(D.a,{onClick:e.toggleDeleteItem,"data-itemid":c._id,size:"sm",variant:"outline-dark",style:{width:"100%",height:"20px"}},l.a.createElement("span",{style:{position:"relative",top:"-4px"}},"Delete")),l.a.createElement(G.a.Header,null,e.state.deleteItem&&l.a.createElement($,{toggleRefresh:e.toggleRefresh,collectionID:"reports",itemID:e.state.passDeleteID,toggleDeleteItem:e.closeDeleteItem}),l.a.createElement(E.a,{interval:null},p),l.a.createElement(x.a,{style:{position:"absolute",top:"-41px"},src:"https://i.imgur.com/jawkXJV.png?3",fluid:!0})),l.a.createElement(G.a.Body,{style:{textAlign:"center"},className:e.state.isOpen[o]?e.state.fullCardClass:e.state.infoCardClass},l.a.createElement("h3",null,c.name),l.a.createElement("p",null,c.text)),l.a.createElement(G.a.Footer,{style:{textAlign:"center",height:"20px",fontSize:"180%"}},l.a.createElement("span",{"data-key":o,className:"pointer-on-hover card-footer-span",onClick:e.handleClass},e.state.handler[o])))),o++}}catch(f){s.e(f)}finally{s.f()}for(var g=0;g<a.length;g++)g%2!==0?r.push(a[g]):n.push(a[g]);return l.a.createElement(m.a,null,l.a.createElement(b.a,null,l.a.createElement(k.a,{lg:6},n),l.a.createElement(k.a,{lg:6},r)))},e.state={fullCardClass:"report-full",infoCardClass:"report-info",fadein:"fadein",fadeout:"fadeout",handler:[],reports:[],isOpen:[],refresh:!0,popup:!1,deleteItem:!1,passDeleteID:""},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;f.a.get("http://localhost:5000/reports/").then((function(t){e.setState({reports:t.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,localStorage.getItem("isAdmin")&&l.a.createElement(b.a,{className:"justify-content-center"},l.a.createElement(D.a,{variant:"outline-dark",style:{marginBottom:"15px"},onClick:this.togglePop},"Add Post")),!!this.state.popup&&l.a.createElement(Z,{toggleRefresh:this.toggleRefresh,togglePop:this.togglePop}),this.getData(),this.getReports())}}]),a}(n.Component),te=function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).handleClose=function(){e.props.toggleAddEvent(),e.setState({popup:!1})},e.handleChange=function(t){var a=t.target,n=a.name,l=a.value;e.setState(Object(w.a)({},n,l))},e.addReport=function(){f.a.post("http://localhost:5000/calendar/add",{link:e.state.link,name:e.state.name,isOpen:e.state.isOpen,text:e.state.text,army:e.state.army,soldiers:e.state.soldiers,date:e.state.date,place:e.state.place,mapLink:e.state.mapLink}).then((function(t){console.log(t.data),e.props.toggleRefresh()})).catch((function(e){return console.log(e.response)})),e.handleClose()},e.handleOnHide=function(){console.log("Use Button to hide.")},e.state={popup:!0,link:"",name:"",isOpen:!1,text:"",date:"",place:"",mapLink:"",soldiers:[],army:""},e}return Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement(R.a,{size:"lg",show:this.state.popup,onHide:this.handleOnHide},l.a.createElement(R.a.Header,{className:"justify-content-end"},l.a.createElement(D.a,{size:"sm",variant:"outline-secondary",onClick:this.handleClose},"X")),l.a.createElement(R.a.Body,{style:{whiteSpace:"pre-line"}},l.a.createElement(m.a,null,l.a.createElement("form",null,l.a.createElement("input",{style:{borderRadius:"10px",width:"100%",textAlign:"center",marginBottom:"15px"},onChange:this.handleChange,type:"text",name:"name",value:this.state.name,placeholder:"Header"}),l.a.createElement("input",{style:{borderRadius:"10px",width:"100%",textAlign:"center",marginBottom:"15px"},onChange:this.handleChange,type:"text",name:"date",value:this.state.date,placeholder:"Date of the Event"}),l.a.createElement("input",{style:{borderRadius:"10px",width:"100%",textAlign:"center",marginBottom:"15px"},onChange:this.handleChange,type:"text",name:"place",value:this.state.place,placeholder:"Place of the Event"}),l.a.createElement("input",{style:{borderRadius:"10px",width:"100%",textAlign:"center",marginBottom:"15px"},onChange:this.handleChange,type:"text",name:"mapLink",value:this.state.mapLink,placeholder:"Address (read below!)"}),l.a.createElement("p",{style:{textAlign:"center",fontSize:"90%",fontStyle:"italic"}},"(Address must be in following format: trnavske+myto+1,bratislava )"),l.a.createElement("input",{style:{borderRadius:"10px",width:"100%",textAlign:"center",marginBottom:"15px"},onChange:this.handleChange,type:"text",name:"army",value:this.state.army,placeholder:"What Uniform should we wear?"}),l.a.createElement("textarea",{style:{borderRadius:"10px",width:"100%",height:"300px"},onChange:this.handleChange,name:"text",value:this.state.text,placeholder:"Start writing description..."}),l.a.createElement("input",{style:{borderRadius:"10px",width:"100%",textAlign:"center",marginBottom:"15px"},onChange:this.handleChange,type:"text",name:"link",value:this.state.link,placeholder:"Image Link"})),l.a.createElement(D.a,{variant:"dark",style:{width:"100%"},onClick:this.addReport},"Upload Event"))))}}]),a}(n.Component),ae=function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleClose=function(){n.props.closeItems(),n.setState({popup:!1})},n.showMissingItems=function(){var e=[];if(n.state.finalMissing[0]){var t,a=Object(h.a)(n.state.soldierInfo);try{for(a.s();!(t=a.n()).done;){var r,o=t.value,s=Object(h.a)(n.state.finalMissing);try{for(s.s();!(r=s.n()).done;){var i=r.value;if(o[0]===i[0]&&n.state.finalMissing[n.state.finalMissing.indexOf(i)+1].length>0){var c=n.state.finalMissing[n.state.finalMissing.indexOf(i)+1];e.push(l.a.createElement("span",{key:o[0]},l.a.createElement(b.a,null,l.a.createElement("h5",null,o[1]," ",o[2],", ",o[3])),l.a.createElement(b.a,{style:{marginBottom:"5px"},xs:2,md:2,lg:4,xl:5},c.map((function(e,t){return l.a.createElement("span",{key:t,style:{color:"#CC4240"}},e)})))))}}}catch(p){s.e(p)}finally{s.f()}}}catch(p){a.e(p)}finally{a.f()}}return e},n.state={popup:!0,soldierMissing:[],soldierInfo:[],equipData:[],finalMissing:[],refresh:!1},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){for(var e=this,t=this.props.soldierID.split(","),a=[],n=0;n<t.length;n+=3)a.push(t[n]);for(var l=function(){var t=o[r];f.a.get("http://localhost:5000/soldier/".concat(t)).then((function(a){var n=a.data.equip,l=[];for(var r in n)n[r]||l.push(r);e.state.soldierMissing.push(t,l),e.state.soldierInfo.push([a.data._id,a.data.rank,a.data.completeName,a.data.squad]),e.setState({refresh:!e.state.refresh})})).catch((function(e){console.log(e)}))},r=0,o=a;r<o.length;r++)l();f.a.get("http://localhost:5000/equipment").then((function(t){var a,n=Object(h.a)(e.state.soldierMissing);try{for(n.s();!(a=n.n()).done;){var l,r=a.value,o=[],s=Object(h.a)(t.data);try{for(s.s();!(l=s.n()).done;){var i=l.value;i.army.includes(e.props.army)&&r.includes(i.short)?o.push(i.name):isNaN(r)||o.includes(r)||o.push(r)}}catch(c){s.e(c)}finally{s.f()}e.state.finalMissing.push(o)}}catch(c){n.e(c)}finally{n.f()}e.setState({refresh:!e.state.refresh})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return l.a.createElement(R.a,{size:"xl",show:this.state.popup,onHide:this.handleClose},l.a.createElement(R.a.Header,{className:"justify-content-center"},l.a.createElement("h1",null,"Missing Items by Soldier")),l.a.createElement(R.a.Body,null,l.a.createElement(m.a,null,this.showMissingItems())))}}]),a}(n.Component),ne=function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleClose=function(){n.props.closePop(),n.setState({popup:!1})},n.state={popup:!0,link:""},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.setState({link:"https://www.google.com/maps/embed/v1/place?key=AIzaSyCPCVFHmwpm0e8la38jOrQzYj9SxCJFxoM&q=".concat(this.props.mapLink,"&maptype=satellite")})}},{key:"render",value:function(){return l.a.createElement(R.a,{size:"lg",show:this.state.popup,onHide:this.handleClose},l.a.createElement(R.a.Body,null,l.a.createElement("iframe",{title:"map",width:"100%",height:"500px",frameBorder:"0",src:this.state.link})))}}]),a}(n.Component),le=a(34),re=function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){n.setState({soldier:localStorage.getItem("id")}),n.props.calendarSoldiers.includes(localStorage.getItem("id"))?n.setState({button:"remove"}):n.setState({button:"add"})},n.handleChange=function(){console.log(n.state.button),f.a.get("http://localhost:5000/calendar/".concat(n.props.calendarID)).then((function(e){if(n.setState({recruits:e.data.soldiers}),n.state.recruits.includes(n.state.soldier)){var t=Object(le.a)(n.state.recruits);t.splice(t.indexOf(n.state.soldier),1),f.a.post("http://localhost:5000/calendar/update-soldiers/".concat(n.props.calendarID),{soldiers:t}).then((function(e){n.setState({button:"add"}),console.log(e.data),n.props.refresh()})).catch((function(e){console.log(e)}))}else{var a=[].concat(Object(le.a)(n.state.recruits),[n.state.soldier]);f.a.post("http://localhost:5000/calendar/update-soldiers/".concat(n.props.calendarID),{soldiers:a}).then((function(e){n.setState({button:"remove"}),console.log(e.data),n.props.refresh()})).catch((function(e){console.log(e)}))}})).catch((function(e){console.log(e)}))},n.state={soldier:"",refresh:!1,recruits:[],button:""},n}return Object(i.a)(a,[{key:"render",value:function(){return"add"===this.state.button?l.a.createElement(D.a,{variant:"outline-dark",onClick:this.handleChange},"Recruit me!"):l.a.createElement(D.a,{variant:"outline-dark",onClick:this.handleChange},"I'm a pussy...")}}]),a}(n.Component),oe=function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleChange=function(e){var t=e.target,a=t.name,l=t.value;n.setState(Object(w.a)({},a,l)),console.log(n.props.calendarID),f.a.get("http://localhost:5000/calendar/".concat(n.props.calendarID)).then((function(e){n.setState({recruits:e.data.soldiers});var t=[].concat(Object(le.a)(n.state.recruits),[l]);console.log(t),f.a.post("http://localhost:5000/calendar/update-soldiers/".concat(n.props.calendarID),{soldiers:t}).then((function(e){console.log(e.data),n.props.refresh(),n.setState(Object(w.a)({},a,""))})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))},n.getFormSelect=function(){var e,t=[l.a.createElement("option",{key:0,value:""})],a=Object(h.a)(n.props.soldierData);try{for(a.s();!(e=a.n()).done;){var r=e.value;n.props.calendarSoldiers.includes(r._id)||t.push(l.a.createElement("option",{key:r._id,value:r._id},r.nameFull))}}catch(o){a.e(o)}finally{a.f()}return t},n.state={soldier:"",refresh:!1,recruits:[]},n}return Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement("form",null,l.a.createElement("select",{value:this.state.soldier,onChange:this.handleChange,name:"soldier"},this.getFormSelect()))}}]),a}(n.Component),se=function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleChange=function(e){var t=e.target,a=t.name,l=t.value;n.setState(Object(w.a)({},a,l)),console.log(n.props.calendarID),f.a.get("http://localhost:5000/calendar/".concat(n.props.calendarID)).then((function(e){n.setState({recruits:e.data.soldiers});var t=Object(le.a)(n.state.recruits);t.splice(t.indexOf(l),1),console.log(t),f.a.post("http://localhost:5000/calendar/update-soldiers/".concat(n.props.calendarID),{soldiers:t}).then((function(e){console.log(e.data),n.props.refresh(),n.setState(Object(w.a)({},a,""))})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))},n.getFormSelect=function(){var e,t=[l.a.createElement("option",{key:0,value:""})],a=Object(h.a)(n.props.soldierData);try{for(a.s();!(e=a.n()).done;){var r=e.value;n.props.calendarSoldiers.includes(r._id)&&t.push(l.a.createElement("option",{key:r._id,value:r._id},r.nameFull))}}catch(o){a.e(o)}finally{a.f()}return t},n.state={soldier:"",refresh:!1,recruits:[]},n}return Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement("form",null,l.a.createElement("select",{value:this.state.soldier,onChange:this.handleChange,name:"soldier"},this.getFormSelect()))}}]),a}(n.Component),ie=function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).togglePop=function(t){e.setState({popup:!e.state.popup,passMapLink:t.target.dataset.link})},e.closePop=function(){e.setState({popup:!e.state.popup,passMapLink:""})},e.openItems=function(t){e.setState({items:!e.state.items,passArmy:t.target.dataset.army,passSoldID:t.target.dataset.id})},e.closeItems=function(){e.setState({items:!e.state.items,passArmy:[],passSoldID:[]})},e.toggleAddEvent=function(){e.setState({addEvent:!e.state.addEvent})},e.toggleDeleteItem=function(t){e.setState({deleteItem:!e.state.deleteItem,passDeleteID:t.currentTarget.dataset.itemid})},e.closeDeleteItem=function(){e.setState({deleteItem:!e.state.deleteItem,passDeleteID:""})},e.toggleRefresh=function(){f.a.get("http://localhost:5000/calendar/").then((function(t){e.setState({calendar:t.data}),console.log("refreshed")})).catch((function(e){console.log(e)}))},e.handleClass=function(t){var a=t.target.dataset.key;e.setState({refresh:!e.state.refresh}),e.state.isOpen.splice(a,1,!e.state.isOpen[a]),e.state.isOpen[a]?e.state.handler.splice(a,1," ... "):e.state.handler.splice(a,1,"...")},e.getData=function(){var t,a=Object(h.a)(e.state.calendar);try{for(a.s();!(t=a.n()).done;){var n=t.value;e.state.isOpen.push(n.isOpen),e.state.handler.push("...")}}catch(l){a.e(l)}finally{a.f()}},e.getCalendar=function(){var t,a=[],n=[],r=[],o=0,s=Object(h.a)(e.state.calendar);try{var i=function(){var n,r=t.value,s=[],i=Object(h.a)(r.soldiers);try{var c=function(){var t=n.value;e.state.soldierData.filter((function(e){e._id===t&&s.push([t,e.rank,e.nameFull])}))};for(i.s();!(n=i.n()).done;)c()}catch(p){i.e(p)}finally{i.f()}a.push(l.a.createElement(G.a,{className:"block-background",key:o,style:{marginBottom:"15px",borderRadius:"5px"}},localStorage.getItem("isAdmin")&&l.a.createElement(D.a,{onClick:e.toggleDeleteItem,"data-itemid":r._id,size:"sm",variant:"outline-dark",style:{width:"100%",height:"20px"}},l.a.createElement("span",{style:{position:"relative",top:"-4px"}},"Delete")),l.a.createElement(G.a.Header,{style:{textAlign:"center",height:"350px"}},e.state.deleteItem&&l.a.createElement($,{toggleRefresh:e.toggleRefresh,collectionID:"calendar",itemID:e.state.passDeleteID,toggleDeleteItem:e.closeDeleteItem}),l.a.createElement(x.a,{style:{position:"absolute",top:"-41px"},src:"https://i.imgur.com/jawkXJV.png?3",fluid:!0}),l.a.createElement(x.a,{src:r.link,fluid:!0})),l.a.createElement(G.a.Body,{style:{textAlign:"center"},className:e.state.isOpen[o]?e.state.fullCardClass:e.state.infoCardClass},l.a.createElement("h4",null,r.name),l.a.createElement("h5",null,"When: ",r.date),l.a.createElement("h5",{className:"para","data-link":r.mapLink,onClick:e.togglePop},"Where: ",r.place),l.a.createElement("h5",null,"Unit: ",r.army),l.a.createElement("p",null,r.text),localStorage.getItem("isAdmin")&&l.a.createElement("span",null,"Add: ",l.a.createElement(oe,{refresh:e.toggleRefresh,calendarSoldiers:r.soldiers,soldierData:e.state.soldierData,calendarID:r._id}),r.soldiers.length>0&&l.a.createElement("span",null,"Remove: ",l.a.createElement(se,{refresh:e.toggleRefresh,calendarSoldiers:r.soldiers,soldierData:e.state.soldierData,calendarID:r._id}))),l.a.createElement("p",{style:{marginTop:"15px"}},l.a.createElement(re,{refresh:e.toggleRefresh,calendarSoldiers:r.soldiers,soldierData:e.state.soldierData,calendarID:r._id})),l.a.createElement("h5",null,"Recruited: "),l.a.createElement("p",null,function(){var e,t=[],a=Object(h.a)(s);try{for(a.s();!(e=a.n()).done;){var n=e.value;t.push(l.a.createElement("span",{key:n[0],style:{width:"45%",display:"inline-block",padding:"3px 8px 4px 8px",marginBottom:"5px",marginRight:"5px",border:"1px solid",borderRadius:"3px"}},n[1]," ",n[2]))}}catch(p){a.e(p)}finally{a.f()}return t}()),l.a.createElement(D.a,{onClick:e.openItems,"data-id":s,"data-army":r.army,variant:"outline-dark",style:{marginRight:"5px"}},"Show Missing Items")),l.a.createElement(G.a.Footer,{style:{textAlign:"center",height:"20px",fontSize:"180%"}},l.a.createElement("span",{"data-key":o,className:"pointer-on-hover card-footer-span",onClick:e.handleClass},e.state.handler[o])))),o++};for(s.s();!(t=s.n()).done;)i()}catch(p){s.e(p)}finally{s.f()}for(var c=0;c<a.length;c++)c%2!==0?r.push(a[c]):n.push(a[c]);return l.a.createElement(m.a,null,l.a.createElement(b.a,null,l.a.createElement(k.a,{lg:6},n),l.a.createElement(k.a,{lg:6},r)))},e.state={fullCardClass:"report-full",infoCardClass:"report-info",fadein:"fadein",fadeout:"fadeout",handler:[],calendar:[],isOpen:[],refresh:!0,popup:!1,addEvent:!1,soldierData:[],items:!1,passSoldID:[],passArmy:[],passMapLink:"",deleteItem:!1,passDeleteID:""},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;f.a.get("http://localhost:5000/calendar/").then((function(t){e.setState({calendar:t.data})})).catch((function(e){console.log(e)})),f.a.get("http://localhost:5000/soldier/").then((function(t){e.setState({soldierData:t.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,localStorage.getItem("isAdmin")&&l.a.createElement(b.a,{className:"justify-content-center"},l.a.createElement(D.a,{variant:"outline-dark",style:{marginBottom:"15px"},onClick:this.toggleAddEvent},"Add Event")),!!this.state.addEvent&&l.a.createElement(te,{toggleRefresh:this.toggleRefresh,toggleAddEvent:this.toggleAddEvent}),!!this.state.popup&&l.a.createElement(ne,{mapLink:this.state.passMapLink,closePop:this.closePop,togglePop:this.togglePop}),!!this.state.items&&l.a.createElement(ae,{army:this.state.passArmy,soldierID:this.state.passSoldID,closeItems:this.closeItems,openItems:this.openItems}),this.getData(),this.getCalendar())}}]),a}(n.Component),ce=(a(113),function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).handleLogin=function(){e.setState({loggedOn:localStorage.getItem("logged")})},e.state={loggedOn:!1},e}return Object(i.a)(a,[{key:"render",value:function(){return localStorage.getItem("logged")?l.a.createElement(u.a,null,l.a.createElement(m.a,null,l.a.createElement(I,null),l.a.createElement("br",null),l.a.createElement(d.a,{path:"/",exact:!0,component:S}),l.a.createElement(d.a,{path:"/platoon",exact:!0,component:Y}),l.a.createElement(d.a,{path:"/gallerycli",exact:!0,component:K}),l.a.createElement(d.a,{path:"/reportscli",exact:!0,component:ee}),l.a.createElement(d.a,{path:"/calendarcli",exact:!0,component:ie}),l.a.createElement(d.a,{path:"/opengallery",exact:!0,component:Q}),l.a.createElement(d.a,{path:"/soldiers",exact:!0,component:L}),l.a.createElement(d.a,{path:"/user",exact:!0,component:_}))):l.a.createElement(B,{loggingOn:this.handleLogin})}}]),a}(n.Component));o.a.render(l.a.createElement(ce,null),document.getElementById("root"))},83:function(e,t,a){e.exports=a(114)}},[[83,1,2]]]);
//# sourceMappingURL=main.9622b3f1.chunk.js.map